(()=>{var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.core.compat["forum/app"];var i=e.n(t);const n=flarum.core.compat["common/extend"],o=flarum.core.compat["forum/components/CommentPost"];var a=e.n(o);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function f(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return v(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var p=function(e,t){return void 0===t&&(t=1e4),e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},g=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=-1!==i.indexOf("hidden"),o=-1!==i.indexOf("visible");return t&&!n&&!o},m=function(e,t){return void 0===t&&(t=void 0),!(!e||e===document.body||t&&e===t)&&(g(e)?e:m(e.parentElement,t))},b=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}return t.firstChild},y=function(e){return(""+(e||"")).split(" ").filter((function(e){return!!e}))},w=function(e,t,i){e&&y(t).forEach((function(t){e.classList.toggle(t,i||!1)}))},x=function(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()},E={passive:!1},S=function(){function e(e,t){var i=t.start,n=void 0===i?function(){return!0}:i,o=t.move,a=void 0===o?function(){}:o,r=t.end,s=void 0===r?function(){}:r;Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=n,this.moveCallback=a,this.endCallback=s;for(var l=0,c=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"];l<c.length;l++){var u=c[l];this[u]=this[u].bind(this)}this.element.addEventListener("mousedown",this.onPointerStart,E),this.element.addEventListener("touchstart",this.onTouchStart,E),this.element.addEventListener("touchmove",this.onMove,E),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}var t=e.prototype;return t.onPointerStart=function(e){if(e.buttons&&0===e.button){var t=new x(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}},t.onTouchStart=function(e){for(var t=0,i=Array.from(e.changedTouches||[]);t<i.length;t++){var n=i[t];this.triggerPointerStart(new x(n),e)}window.addEventListener("blur",this.onWindowBlur)},t.onMove=function(e){for(var t,i=this,n=this.currentPointers.slice(),o=("changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new x(e)})):[new x(e)]),a=[],r=function(){var e=t.value,n=i.currentPointers.findIndex((function(t){return t.id===e.id}));n<0||(a.push(e),i.currentPointers[n]=e)},s=f(o);!(t=s()).done;)r();a.length&&this.moveCallback(e,this.currentPointers.slice(),n)},t.onPointerEnd=function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new x(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))},t.onTouchEnd=function(e){for(var t=0,i=Array.from(e.changedTouches||[]);t<i.length;t++){var n=i[t];this.triggerPointerEnd(e,new x(n))}},t.triggerPointerStart=function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)},t.triggerPointerEnd=function(e,t){var i=this.currentPointers.findIndex((function(e){return e.id===t.id}));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))},t.onWindowBlur=function(){this.clear()},t.clear=function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}},t.stop=function(){this.element.removeEventListener("mousedown",this.onPointerStart,E),this.element.removeEventListener("touchstart",this.onTouchStart,E),this.element.removeEventListener("touchmove",this.onMove,E),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)},e}();function P(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function C(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var T=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},M=function(e){for(var t=arguments.length<=1?0:arguments.length-1,i=0;i<t;i++){var n=(i+1<1||arguments.length<=i+1?void 0:arguments[i+1])||{};Object.entries(n).forEach((function(t){var i,n,o,a=t[0],r=t[1],s=Array.isArray(r)?[]:{};e[a]||Object.assign(e,((i={})[a]=s,i)),T(r)?Object.assign(e[a],M(s,r)):Array.isArray(r)?Object.assign(e,((n={})[a]=[].concat(r),n)):Object.assign(e,((o={})[a]=r,o))}))}return e},O=function(e,t){return e.split(".").reduce((function(e,t){return"object"==typeof e?e[t]:void 0}),t)},A=function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(var t,i=f(Object.getOwnPropertyNames(Object.getPrototypeOf(this)));!(t=i()).done;){var n=t.value;n.startsWith("on")&&"function"==typeof this[n]&&(this[n]=this[n].bind(this))}}var t=e.prototype;return t.setOptions=function(e){this.options=e?M({},this.constructor.defaults,e):{};for(var t=0,i=Object.entries(this.option("on")||{});t<i.length;t++){var n=i[t],o=n[0],a=n[1];this.on(o,a)}},t.option=function(e){for(var t,i=O(e,this.options),n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return i&&"function"==typeof i&&(i=(t=i).call.apply(t,[this,this].concat(o))),i},t.optionFor=function(e,t,i){for(var n,o,a=O(t,e),r=arguments.length,s=new Array(r>3?r-3:0),l=3;l<r;l++)s[l-3]=arguments[l];"string"!=typeof(o=a)||isNaN(o)||isNaN(parseFloat(o))||(a=parseFloat(a)),"true"===a&&(a=!0),"false"===a&&(a=!1),a&&"function"==typeof a&&(a=(n=a).call.apply(n,[this,this,e].concat(s)));var c=O(t,this.options);return c&&"function"==typeof c?a=c.call.apply(c,[this,this,e].concat(s,[a])):void 0===a&&(a=c),void 0===a?i:a},t.cn=function(e){var t=this.options.classes;return t&&t[e]||""},t.localize=function(e,t){var i=this;void 0===t&&(t=[]),e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,t,n){var o="";return n?o=i.option(t[0]+t.toLowerCase().substring(1)+".l10n."+n):t&&(o=i.option("l10n."+t)),o||(o=e),o}));for(var n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))},t.on=function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((function(e){var n=i.events.get(e);n||(i.events.set(e,[]),n=[]),n.includes(t)||n.push(t),i.events.set(e,n)}))},t.off=function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((function(e){var n=i.events.get(e);if(Array.isArray(n)){var o=n.indexOf(t);o>-1&&n.splice(o,1)}}))},t.emit=function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];[].concat(this.events.get(e)||[]).forEach((function(e){return e.apply(void 0,[t].concat(n))})),"*"!==e&&this.emit.apply(this,["*",e].concat(n))},e}();Object.defineProperty(A,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(A,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var k,L=function(e){function t(t){var i;return void 0===t&&(t={}),i=e.call(this,t)||this,Object.defineProperty(u(i),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),i}d(t,e);var i=t.prototype;return i.attachPlugins=function(e){void 0===e&&(e={});for(var t=new Map,i=0,n=Object.entries(e);i<n.length;i++){var o=n[i],a=o[0],r=o[1],s=this.option(a),l=this.plugins[a];l||!1===s?l&&!1===s&&(l.detach(),delete this.plugins[a]):t.set(a,new r(this,s||{}))}for(var c,u=f(t);!(c=u()).done;){var h=c.value,d=h[0],v=h[1];this.plugins[d]=v,v.attach()}},i.detachPlugins=function(e){for(var t,i=f(e=e||Object.keys(this.plugins));!(t=i()).done;){var n=t.value,o=this.plugins[n];o&&o.detach(),delete this.plugins[n]}return this.emit("detachPlugins"),this},t}(A);!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(k||(k={}));var z=["a","b","c","d","e","f"],R={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},I={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:R},D='<circle cx="25" cy="25" r="20"></circle>',F='<div class="f-spinner"><svg viewBox="0 0 50 50">'+D+D+"</svg></div>",j=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},B=function(e,t){e&&y(t).forEach((function(t){e.classList.remove(t)}))},H=function(e,t){e&&y(t).forEach((function(t){e.classList.add(t)}))},N={a:1,b:0,c:0,d:1,e:0,f:0},_=1e4,X="mousemove",W="drag",Y="content",q="auto",V=null,Z=null,U=function(e){function t(i,n,o){var a,r;if(void 0===n&&(n={}),void 0===o&&(o={}),a=e.call(this,n)||this,Object.defineProperty(u(a),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(a),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(a),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(a),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(a),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(a),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(u(a),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(a),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(a),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u(a),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(a),"state",{enumerable:!0,configurable:!0,writable:!0,value:k.Init}),Object.defineProperty(u(a),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(a),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u(a),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u(a),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(a),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(u(a),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(u(a),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(u(a),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(u(a),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},N)}),Object.defineProperty(u(a),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},N)}),Object.defineProperty(u(a),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(u(a),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!i)throw new Error("Container Element Not Found");a.container=i,a.initContent(),a.attachPlugins(Object.assign(Object.assign({},t.Plugins),o)),a.emit("attachPlugins"),a.emit("init");var s=a.content;if(s.addEventListener("load",a.onLoad),s.addEventListener("error",a.onError),a.isContentLoading){if(a.option("spinner")){i.classList.add(a.cn("isLoading"));var l=b(F);!i.contains(s)||s.parentElement instanceof HTMLPictureElement?a.spinner=i.appendChild(l):a.spinner=(null===(r=s.parentElement)||void 0===r?void 0:r.insertBefore(l,s))||null}a.emit("beforeLoad")}else queueMicrotask((function(){a.enable()}));return a}d(t,e);var i=t.prototype;return i.initContent=function(){var e=this.container,t=this.cn(Y),i=this.option(Y)||e.querySelector("."+t);if(i||(i=e.querySelector("img,picture")||e.firstElementChild)&&H(i,t),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i},i.onLoad=function(){var e=this.spinner,t=this.container,i=this.state;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===k.Init?this.enable():this.updateMetrics()},i.onError=function(){this.state!==k.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=k.Error,this.emit("error"))},i.getNextScale=function(e){var t=this.fullScale,i=this.targetScale,n=this.coverScale,o=this.maxScale,a=this.minScale,r=a;switch(e){case"toggleMax":r=i-a<.5*(o-a)?o:a;break;case"toggleCover":r=i-a<.5*(n-a)?n:a;break;case"toggleZoom":r=i-a<.5*(t-a)?t:a;break;case"iterateZoom":var s=[1,t,o].sort((function(e,t){return e-t})),l=s.findIndex((function(e){return e>i+1e-5}));r=s[l]||1}return r},i.attachObserver=function(){var e,t=this,i=function(){var e=t.container,i=t.containerRect;return Math.abs(i.width-e.getBoundingClientRect().width)>.1||Math.abs(i.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){t.updateTimer||(i()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){i()&&t.onResize(),t.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)},i.detachObserver=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},i.attachEvents=function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new S(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(X,this.onMouseMove)},i.detachEvents=function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(X,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)},i.animate=function(){var e=this;this.setTargetForce();for(var t=this.friction,i=this.option("maxVelocity"),n=0,o=z;n<o.length;n++){var a=o[n];t?(this.velocity[a]*=1-t,i&&!this.isScaling&&(this.velocity[a]=Math.max(Math.min(this.velocity[a],i),-1*i)),this.current[a]+=this.velocity[a]):this.current[a]=this.target[a]}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")},i.setTargetForce=function(){for(var e=0,t=z;e<t.length;e++){var i=t[e];"e"===i&&this.isBouncingX||"f"===i&&this.isBouncingY||(this.velocity[i]=(1/(1-this.friction)-1)*(this.target[i]-this.current[i]))}},i.checkBounds=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var i=this.current,n=i.e+e,o=i.f+t,a=this.getBounds(),r=a.x,s=a.y,l=r.min,c=r.max,u=s.min,h=s.max,d=0,f=0;return l!==1/0&&n<l?d=l-n:c!==1/0&&n>c&&(d=c-n),u!==1/0&&o<u?f=u-o:h!==1/0&&o>h&&(f=h-o),Math.abs(d)<1e-4&&(d=0),Math.abs(f)<1e-4&&(f=0),Object.assign(Object.assign({},a),{xDiff:d,yDiff:f,inBounds:!d&&!f})},i.clampTargetBounds=function(){var e=this.target,t=this.getBounds(),i=t.x,n=t.y;i.min!==1/0&&(e.e=Math.max(e.e,i.min)),i.max!==1/0&&(e.e=Math.min(e.e,i.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))},i.calculateContentDim=function(e){void 0===e&&(e=this.current);var t=this.content,i=this.contentRect,n=i.fitWidth,o=i.fitHeight,a=i.fullWidth,r=i.fullHeight,s=a,l=r;if(this.option("zoom")||0!==this.angle){var c=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),u=c?a:n,h=c?r:o,d=this.getMatrix(e),f=new DOMPoint(0,0).matrixTransform(d),v=new DOMPoint(0+u,0).matrixTransform(d),p=new DOMPoint(0+u,0+h).matrixTransform(d),g=new DOMPoint(0,0+h).matrixTransform(d),m=Math.abs(p.x-f.x),b=Math.abs(p.y-f.y),y=Math.abs(g.x-v.x),w=Math.abs(g.y-v.y);s=Math.max(m,y),l=Math.max(b,w)}return{contentWidth:s,contentHeight:l}},i.setEdgeForce=function(){if(this.ignoreBounds||this.isDragging||this.panMode===X||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),i=t.x,n=t.y,o=t.xDiff,a=t.yDiff,r=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==o?(this.isBouncingX=!0,o*s<=0?s+=.14*o:(s=.14*o,i.min!==1/0&&(this.target.e=Math.max(e.e,i.min)),i.max!==1/0&&(this.target.e=Math.min(e.e,i.max))),r&&(s=Math.max(Math.min(s,r),-1*r))):this.isBouncingX=!1,0!==a?(this.isBouncingY=!0,a*l<=0?l+=.14*a:(l=.14*a,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),r&&(l=Math.max(Math.min(l,r),-1*r))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)},i.enable=function(){for(var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),i=0,n=z;i<n.length;i++){var o=n[i];this.current[o]=this.target[o]=t[o]}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=k.Ready,this.emit("ready")},i.onClick=function(e){var t,i=this;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var n=e.target;if(n&&!e.defaultPrevented){if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!function(){var e=window.getSelection();return e&&"Range"===e.type}()||n.closest("button")){var o=n.closest("[data-panzoom-action]"),a=n.closest("[data-panzoom-change]"),r=o||a,s=r&&j(r)?r.dataset:null;if(s){var l=s.panzoomChange,c=s.panzoomAction;if((l||c)&&e.preventDefault(),l){var u={};try{u=JSON.parse(l)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(u)}if(c)return void(this[c]&&this[c]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(!n.closest("[data-fancybox]")){var h=this.content.getBoundingClientRect(),d=this.dragStart;if(!d.time||this.canZoomOut()||!(Math.abs(h.x-d.x)>2||Math.abs(h.y-d.y)>2)){this.dragStart.time=0;var f=function(t){i.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof i[t]&&(e.preventDefault(),i[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===i.clicks?(i.emit("click",e),!e.defaultPrevented&&v&&f(v)):(i.emit("dblClick",e),e.defaultPrevented||f(p)),i.clicks=0,i.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&f(v))}}}}},i.addTrackingPoint=function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t},i.onPointerDown=function(e,t,i){var n;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var o=this.content.getBoundingClientRect();if(this.dragStart={x:o.x,y:o.y,top:o.top,left:o.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===X&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;var a=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(a.nodeName)||a.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(a.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0},i.onPointerMove=function(e,t,i){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&p(this.targetScale)<=p(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var n=this.content,o=C(i[0],i[1]),a=C(t[0],t[1]),r=0,s=0;if(t.length>1){var l=n.getBoundingClientRect();r=o.clientX-l.left-.5*l.width,s=o.clientY-l.top-.5*l.height}var c=P(i[0],i[1]),u=P(t[0],t[1]),h=c?u/c:1,d=a.clientX-o.clientX,f=a.clientY-o.clientY;this.dragOffset.x+=d,this.dragOffset.y+=f,this.dragOffset.time=Date.now()-this.dragStart.time;var v=p(this.targetScale)===p(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var g=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=g>45&&g<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,d=0,f=0}else this.lockedAxis=v;if(m(e.target,this.content)&&(v="x",this.dragOffset.y=0),!v||"xy"===v||this.lockedAxis===v||p(this.targetScale)!==p(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var b=this.checkBounds(d,f);this.option("rubberband")?("x"!==this.isInfinite&&(b.xDiff>0&&d<0||b.xDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),"y"!==this.isInfinite&&(b.yDiff>0&&f<0||b.yDiff<0&&f>0)&&(f*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(d=0),b.yDiff&&(f=0));var y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(h=Math.max(h,w)),y>1.5*x&&(h=Math.min(h,x)),"y"===this.lockedAxis&&p(y)===p(w)&&(d=0),"x"===this.lockedAxis&&p(y)===p(w)&&(f=0),this.applyChange({originX:r,originY:s,panX:d,panY:f,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}}},i.onPointerUp=function(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),m(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==k.Destroy&&(e.defaultPrevented||this.startDecelAnim()))},i.startDecelAnim=function(){var e,t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var i=0,n=z;i<n.length;i++){var o=n[i];this.velocity[o]=0}this.target.e=this.current.e,this.target.f=this.current.f,B(this.container,"is-scaling"),B(this.container,"is-animating"),this.isTicking=!1;var a=this.trackingPoints,r=a[0],s=a[a.length-1],l=0,c=0,u=0;s&&r&&(l=s.clientX-r.clientX,c=s.clientY-r.clientY,u=s.time-r.time);var h=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==h&&(l*=h,c*=h);var d=0,f=0,v=0,g=0,m=this.option("decelFriction"),b=this.targetScale;if(u>0){v=Math.abs(l)>3?l/(u/30):0,g=Math.abs(c)>3?c/(u/30):0;var y=this.option("maxVelocity");y&&(v=Math.max(Math.min(v,y),-1*y),g=Math.max(Math.min(g,y),-1*y))}v&&(d=v/(1/(1-m)-1)),g&&(f=g/(1/(1-m)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&p(b)===this.minScale)&&(d=v=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&p(b)===this.minScale)&&(f=g=0);var w=this.dragOffset.x,x=this.dragOffset.y,E=this.option("dragMinThreshold")||0;Math.abs(w)<E&&Math.abs(x)<E&&(d=f=0,v=g=0),(this.option("zoom")&&(b<this.minScale-1e-5||b>this.maxScale+1e-5)||t&&!d&&!f)&&(m=.35),this.applyChange({panX:d,panY:f,friction:m}),this.emit("decel",v,g,w,x)},i.onWheel=function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode!==X&&!e.defaultPrevented){var n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}},i.onMouseMove=function(e){this.panWithMouse(e)},i.onKeydown=function(e){"Escape"===e.key&&this.toggleFS()},i.onResize=function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()},i.setTransform=function(){this.emit("beforeTransform");for(var e=this.current,t=this.target,i=this.content,n=this.contentRect,o=Object.assign({},N),a=0,r=z;a<r.length;a++){var s=r[a],l="e"==s||"f"===s?_:1e5;o[s]=p(e[s],l),Math.abs(t[s]-e[s])<("e"==s||"f"===s?.51:.001)&&(e[s]=t[s])}var c="matrix("+o.a+", "+o.b+", "+o.c+", "+o.d+", "+o.e+", "+o.f+")",u=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(u=u.parentElement||u),u.style.transform!==c){u.style.transform=c;var h=this.calculateContentDim(),d=h.contentWidth,f=h.contentHeight;n.width=d,n.height=f,this.emit("afterTransform")}},i.updateMetrics=function(e){var t,i;if(void 0===e&&(e=!1),this&&this.state!==k.Destroy&&!this.isContentLoading){var n=Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1),o=this.container,a=this.content,r=a instanceof HTMLImageElement,s=o.getBoundingClientRect(),l=getComputedStyle(this.container),c=s.width*n,u=s.height*n,h=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),d=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),f=u-h;this.containerRect={width:c,height:u,innerWidth:d,innerHeight:f};var v=parseFloat(a.dataset.width||"")||function(e){return(e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth))||0}(a),g=parseFloat(a.dataset.height||"")||function(e){return(e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight))||0}(a),m=this.option("width",v)||q,b=this.option("height",g)||q,y=m===q,w=b===q;"number"!=typeof m&&(m=v),"number"!=typeof b&&(b=g),y&&(m=v*(b/g)),w&&(b=g/(v/m));var x=a.parentElement instanceof HTMLPictureElement?a.parentElement:a;this.option("transformParent")&&(x=x.parentElement||x);var E=x.getAttribute("style")||"";x.style.setProperty("transform","none","important"),r&&(x.style.width="",x.style.height=""),x.offsetHeight;var S=a.getBoundingClientRect(),P=S.width*n,C=S.height*n,T=P,M=C;P=Math.min(P,m),C=Math.min(C,b),r?(t=function(e,t,i,n){var o=i/e,a=n/t,r=Math.min(o,a);return{width:e*=r,height:t*=r}}(m,b,P,C),P=t.width,C=t.height):(P=Math.min(P,m),C=Math.min(C,b));var O=.5*(M-C),A=.5*(T-P);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:S.top-s.top+O,bottom:s.bottom-S.bottom+O,left:S.left-s.left+A,right:s.right-S.right+A,fitWidth:P,fitHeight:C,width:P,height:C,fullWidth:m,fullHeight:b}),x.style.cssText=E,r&&(x.style.width=P+"px",x.style.height=C+"px"),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(p(this.targetScale)<p(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===k.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}},i.calculateBounds=function(){var e=this.calculateContentDim(this.target),t=e.contentWidth,i=e.contentHeight,n=this.targetScale,o=this.lockedAxis,a=this.contentRect,r=a.fitWidth,s=a.fitHeight,l=0,c=0,u=0,h=0,d=this.option("infinite");if(!0===d||o&&d===o)l=-1/0,u=1/0,c=-1/0,h=1/0;else{var f=this.containerRect,v=this.contentRect,g=p(r*n,_),m=p(s*n,_),b=f.innerWidth,y=f.innerHeight;if(f.width===g&&(b=f.width),f.width===m&&(y=f.height),t>b){l=-1*(u=.5*(t-b));var w=.5*(v.right-v.left);l+=w,u+=w}if(r>b&&t<b&&(l-=.5*(r-b),u-=.5*(r-b)),i>y){c=-1*(h=.5*(i-y));var x=.5*(v.bottom-v.top);c+=x,h+=x}s>y&&i<y&&(l-=.5*(s-y),u-=.5*(s-y))}return{x:{min:l,max:u},y:{min:c,max:h}}},i.getBounds=function(){var e=this.option("bounds");return e!==q?e:this.calculateBounds()},i.updateControls=function(){var e=this,t=e.container,i=e.panMode,n=e.contentRect,o=e.targetScale,a=e.minScale,r=a,s=e.option("click")||!1;s&&(r=e.getNextScale(s));var l=e.canZoomIn(),c=e.canZoomOut(),u=i===W&&!!this.option("touch"),h=c&&u;if(u&&(p(o)<p(a)&&!this.panOnlyZoomed&&(h=!0),(p(n.width,1)>p(n.fitWidth,1)||p(n.height,1)>p(n.fitHeight,1))&&(h=!0)),p(n.width*o,1)<p(n.fitWidth,1)&&(h=!1),i===X&&(h=!1),w(t,this.cn("isDraggable"),h),this.option("zoom")){var d=l&&p(r)>p(o),v=!d&&!h&&c&&p(r)<p(o);w(t,this.cn("canZoomIn"),d),w(t,this.cn("canZoomOut"),v);for(var g,m=f(t.querySelectorAll("[data-panzoom-action]"));!(g=m()).done;){var b=g.value,y=!1,x=!1;switch(b.dataset.panzoomAction){case"zoomIn":l?y=!0:x=!0;break;case"zoomOut":c?y=!0:x=!0;break;case"toggleZoom":case"iterateZoom":l||c?y=!0:x=!0;var E=b.querySelector("g");E&&(E.style.display=l?"":"none")}y?(b.removeAttribute("disabled"),b.removeAttribute("tabindex")):x&&(b.setAttribute("disabled",""),b.setAttribute("tabindex","-1"))}}},i.panTo=function(e){var t=e.x,i=void 0===t?this.target.e:t,n=e.y,o=void 0===n?this.target.f:n,a=e.scale,r=void 0===a?this.targetScale:a,s=e.friction,l=void 0===s?this.option("friction"):s,c=e.angle,u=void 0===c?0:c,h=e.originX,d=void 0===h?0:h,f=e.originY,v=void 0===f?0:f,p=e.flipX,g=void 0!==p&&p,m=e.flipY,b=void 0!==m&&m,y=e.ignoreBounds,w=void 0!==y&&y;this.state!==k.Destroy&&this.applyChange({panX:i-this.target.e,panY:o-this.target.f,scale:r/this.targetScale,angle:u,originX:d,originY:v,friction:l,flipX:g,flipY:b,ignoreBounds:w})},i.applyChange=function(e){var t=e.panX,i=void 0===t?0:t,n=e.panY,o=void 0===n?0:n,a=e.scale,r=void 0===a?1:a,s=e.angle,l=void 0===s?0:s,c=e.originX,u=void 0===c?-this.current.e:c,h=e.originY,d=void 0===h?-this.current.f:h,f=e.friction,v=void 0===f?this.option("friction"):f,g=e.flipX,m=void 0!==g&&g,b=e.flipY,y=void 0!==b&&b,w=e.ignoreBounds,x=void 0!==w&&w,E=e.bounce,S=void 0===E?this.option("bounce"):E,P=this.state;if(P!==k.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=v||0,this.ignoreBounds=x;var C=this.current,T=C.e,M=C.f,O=this.getMatrix(this.target),A=(new DOMMatrix).translate(T,M).translate(u,d).translate(i,o);if(this.option("zoom")){if(!x){var L=this.targetScale,R=this.minScale,I=this.maxScale;L*r<R&&(r=R/L),L*r>I&&(r=I/L)}A=A.scale(r)}A=A.translate(-u,-d).translate(-T,-M).multiply(O),l&&(A=A.rotate(l)),m&&(A=A.scale(-1,1)),y&&(A=A.scale(1,-1));for(var D=0,F=z;D<F.length;D++){var j=F[D];"e"!==j&&"f"!==j&&(A[j]>this.minScale+1e-5||A[j]<this.minScale-1e-5)?this.target[j]=A[j]:this.target[j]=p(A[j],_)}(this.targetScale<this.scale||Math.abs(r-1)>.1||this.panMode===X||!1===S)&&!x&&this.clampTargetBounds(),P===k.Init?this.animate():this.isResting||(this.state=k.Panning,this.requestTick())}},i.stop=function(e){if(void 0===e&&(e=!1),this.state!==k.Init&&this.state!==k.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var i=0,n=z;i<n.length;i++){var o=n[i];this.velocity[o]=0,"current"===e?this.current[o]=this.target[o]:"target"===e&&(this.target[o]=this.current[o])}this.setTransform(),B(this.container,"is-scaling"),B(this.container,"is-animating"),this.isTicking=!1,this.state=k.Ready,t&&(this.emit("endAnimation"),this.updateControls())}},i.requestTick=function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),H(this.container,"is-animating"),this.isScaling&&H(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))},i.panWithMouse=function(e,t){if(void 0===t&&(t=this.option("mouseMoveFriction")),this.pmme=e,this.panMode===X&&e&&!(p(this.targetScale)<=p(this.minScale))){this.emit("mouseMove",e);var i=this.container,n=this.containerRect,o=this.contentRect,a=n.width,r=n.height,s=i.getBoundingClientRect(),l=(e.clientX||0)-s.left,c=(e.clientY||0)-s.top,u=this.calculateContentDim(this.target),h=u.contentWidth,d=u.contentHeight,f=this.option("mouseMoveFactor");f>1&&(h!==a&&(h*=f),d!==r&&(d*=f));var v=.5*(h-a)-l/a*100/100*(h-a);v+=.5*(o.right-o.left);var g=.5*(d-r)-c/r*100/100*(d-r);g+=.5*(o.bottom-o.top),this.applyChange({panX:v-this.target.e,panY:g-this.target.f,friction:t})}},i.zoomWithWheel=function(e){if(this.state!==k.Destroy&&this.state!==k.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,i)),o=this.targetScale,a=this.maxScale,r=this.minScale,s=o*(100+45*n)/100;p(s)<p(r)&&p(o)<=p(r)?(this.cwd+=Math.abs(n),s=r):p(s)>p(a)&&p(o)>=p(a)?(this.cwd+=Math.abs(n),s=a):(this.cwd=0,s=Math.max(Math.min(s,a),r)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),p(s)!==p(o)&&this.zoomTo(s,{event:e}))}}},i.canZoomIn=function(){return this.option("zoom")&&(p(this.contentRect.width,1)<p(this.contentRect.fitWidth,1)||p(this.targetScale)<p(this.maxScale))},i.canZoomOut=function(){return this.option("zoom")&&p(this.targetScale)>p(this.minScale)},i.zoomIn=function(e,t){void 0===e&&(e=1.25),this.zoomTo(this.targetScale*e,t)},i.zoomOut=function(e,t){void 0===e&&(e=.8),this.zoomTo(this.targetScale*e,t)},i.zoomToFit=function(e){this.zoomTo("fit",e)},i.zoomToCover=function(e){this.zoomTo("cover",e)},i.zoomToFull=function(e){this.zoomTo("full",e)},i.zoomToMax=function(e){this.zoomTo("max",e)},i.toggleZoom=function(e){this.zoomTo(this.getNextScale("toggleZoom"),e)},i.toggleMax=function(e){this.zoomTo(this.getNextScale("toggleMax"),e)},i.toggleCover=function(e){this.zoomTo(this.getNextScale("toggleCover"),e)},i.iterateZoom=function(e){this.zoomTo("next",e)},i.zoomTo=function(e,t){void 0===e&&(e=1);var i=void 0===t?{}:t,n=i.friction,o=void 0===n?q:n,a=i.originX,r=void 0===a?q:a,s=i.originY,l=void 0===s?q:s,c=i.event;if(!this.isContentLoading&&this.state!==k.Destroy){var u=this.targetScale,h=this.fullScale,d=this.maxScale,f=this.coverScale;if(this.stop(),this.panMode===X&&(c=this.pmme||c),c||r===q||l===q){var v=this.content.getBoundingClientRect(),p=this.container.getBoundingClientRect(),g=c?c.clientX:p.left+.5*p.width,m=c?c.clientY:p.top+.5*p.height;r=g-v.left-.5*v.width,l=m-v.top-.5*v.height}var b=1;"number"==typeof e?b=e:"full"===e?b=h:"cover"===e?b=f:"max"===e?b=d:"fit"===e?b=1:"next"===e&&(b=this.getNextScale("iterateZoom")),b=b/u||1,o=o===q?b>1?.15:.25:o,this.applyChange({scale:b,originX:r,originY:l,friction:o}),c&&this.panMode===X&&this.panWithMouse(c,o)}},i.rotateCCW=function(){this.applyChange({angle:-90})},i.rotateCW=function(){this.applyChange({angle:90})},i.flipX=function(){this.applyChange({flipX:!0})},i.flipY=function(){this.applyChange({flipY:!0})},i.fitX=function(){this.stop("target");var e=this.containerRect,t=this.contentRect,i=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-i.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})},i.fitY=function(){this.stop("target");var e=this.containerRect,t=this.contentRect,i=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-i.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})},i.toggleFS=function(){var e=this.container,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);var n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")},i.getMatrix=function(e){void 0===e&&(e=this.current);var t=e,i=t.a,n=t.b,o=t.c,a=t.d,r=t.e,s=t.f;return new DOMMatrix([i,n,o,a,r,s])},i.reset=function(e){if(this.state!==k.Init&&this.state!==k.Destroy){this.stop("current");for(var t=0,i=z;t<i.length;t++){var n=i[t];this.target[n]=N[n]}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=k.Panning,this.requestTick())}},i.destroy=function(){this.stop(),this.state=k.Destroy,this.detachEvents(),this.detachObserver();for(var e=this.container,t=this.content,i=this.option("classes")||{},n=0,o=Object.values(i);n<o.length;n++){var a=o[n];e.classList.remove(a+"")}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()},c(t,[{key:"fits",get:function(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}},{key:"isTouchDevice",get:function(){return null===Z&&(Z=window.matchMedia("(hover: none)").matches),Z}},{key:"isMobile",get:function(){return null===V&&(V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),V}},{key:"panMode",get:function(){return this.options.panMode!==X||this.isTouchDevice?W:X}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return e===q?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;for(var e=0,t=z;e<t.length;e++){var i=t[e],n="e"==i||"f"===i?1e-4:1e-5;if(Math.abs(this.target[i]-this.current[i])>n)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}}])}(L);Object.defineProperty(U,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(U,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var G,K=function(e,t){var i=!0;return function(){i&&(i=!1,e.apply(void 0,arguments),setTimeout((function(){i=!0}),t))}},J=function(e,t){var i=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||i.push(e)})),i};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(G||(G={}));var Q=function(e){if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},ee=function(e){return void 0===e&&(e={}),Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},te=function(e){function t(t,i){var n;return n=e.call(this,i)||this,Object.defineProperty(u(n),"instance",{enumerable:!0,configurable:!0,writable:!0,value:t}),n}d(t,e);var i=t.prototype;return i.attach=function(){},i.detach=function(){},t}(A),ie=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(t),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}d(t,e);var i=t.prototype;return i.onRefresh=function(){this.refresh()},i.build=function(){var e=this.list;if(!e){e=document.createElement("ul"),H(e,this.cn("list")),e.setAttribute("role","tablist");var t=this.instance.container;t.appendChild(e),H(t,this.cn("hasDots")),this.list=e}return e},i.refresh=function(){var e,t=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(t<i||t>n)this.cleanup();else{var a="number"==typeof o&&t>5&&t>=o,r=!this.list||this.isDynamic!==a||this.list.children.length!==t;r&&this.cleanup();var s=this.build();if(w(s,this.cn("isDynamic"),!!a),r)for(var l=0;l<t;l++)s.append(this.createItem(l));for(var c,u=0,h=0,d=[].concat(s.children);h<d.length;h++){var f=d[h],v=u===this.instance.page;v&&(c=f),w(f,this.cn("isCurrent"),v),null===(e=f.children[0])||void 0===e||e.setAttribute("aria-selected",v?"true":"false");for(var p=0,g=["isBeforePrev","isPrev","isNext","isAfterNext"];p<g.length;p++){var m=g[p];B(f,this.cn(m))}u++}if(c=c||s.firstChild,a&&c){var b=c.previousElementSibling,y=b&&b.previousElementSibling;H(b,this.cn("isPrev")),H(y,this.cn("isBeforePrev"));var x=c.nextElementSibling,E=x&&x.nextElementSibling;H(x,this.cn("isNext")),H(E,this.cn("isAfterNext"))}this.isDynamic=a}},i.createItem=function(e){var t;void 0===e&&(e=0);var i=document.createElement("li");i.setAttribute("role","presentation");var n=b(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return i.appendChild(n),null===(t=i.children[0])||void 0===t||t.setAttribute("role","tab"),i},i.cleanup=function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,B(this.instance.container,this.cn("hasDots"))},i.attach=function(){this.instance.on(["refresh","change"],this.onRefresh)},i.detach=function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()},t}(te);Object.defineProperty(ie,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var ne="disabled",oe="next",ae="prev",re=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}d(t,e);var i=t.prototype;return i.onRefresh=function(){var e=this.instance,t=e.pages.length,i=e.page;if(t<2)this.cleanup();else{this.build();var n=this.prev,o=this.next;n&&o&&(n.removeAttribute(ne),o.removeAttribute(ne),e.isInfinite||(i<=0&&n.setAttribute(ne,""),i>=t-1&&o.setAttribute(ne,"")))}},i.addBtn=function(e){var t,i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize("{{"+e.toUpperCase()+"}}")),H(n,this.cn("button")+" "+this.cn(e===oe?"isNext":"isPrev"));var o,a=i.isRTL?e===oe?ae:oe:e;return n.innerHTML=i.localize(this.option(a+"Tpl")),n.dataset["carousel"+(o=e,o?o.match("^[a-z]")?o.charAt(0).toUpperCase()+o.substring(1):o:"")]="true",null===(t=this.container)||void 0===t||t.appendChild(n),n},i.build=function(){var e=this.instance.container,t=this.cn("container"),i=this.container,n=this.prev,o=this.next;i||(i=e.querySelector("."+t),this.isDom=!!i),i||(i=document.createElement("div"),H(i,t),e.appendChild(i)),this.container=i,o||(o=i.querySelector("[data-carousel-next]")),o||(o=this.addBtn(oe)),this.next=o,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(ae)),this.prev=n},i.cleanup=function(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1},i.attach=function(){this.instance.on(["refresh","change"],this.onRefresh)},i.detach=function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()},t}(te);Object.defineProperty(re,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var se=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}d(t,e);var i=t.prototype;return i.addAsTargetFor=function(e){this.target=this.instance,this.nav=e,this.attachEvents()},i.addAsNavFor=function(e){this.nav=this.instance,this.target=e,this.attachEvents()},i.attachEvents=function(){var e=this.nav,t=this.target;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===G.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===G.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))},i.onNavReady=function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()},i.onTargetReady=function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()},i.onNavClick=function(e,t,i){this.onNavTouch(e,e.panzoom,i)},i.onNavTouch=function(e,t,i){var n,o;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var a=i.target,r=this.nav,s=this.target;if(r&&s&&a){var l=a.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),h=r.getPageForSlide(c);r.slideTo(h),s.slideTo(u,{friction:(null===(o=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===o?void 0:o.Sync.option("friction"))||0}),this.markSelectedSlide(c)}}}},i.onNavCreateSlide=function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)},i.onTargetChange=function(){var e,t,i=this.target,n=this.nav;if(i&&n&&n.state===G.Ready&&i.state===G.Ready){var o=null===(t=null===(e=i.pages[i.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,a=n.getPageForSlide(o);this.markSelectedSlide(o),n.slideTo(a,null===n.prevPage&&null===i.prevPage?{friction:0}:void 0)}},i.markSelectedSlide=function(e){var t=this.nav;t&&t.state===G.Ready&&(this.selectedIndex=e,[].concat(t.slides).map((function(t){t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))},i.attach=function(){var e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)},i.detach=function(){var e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null},t}(te);Object.defineProperty(se,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var le={Navigation:re,Dots:ie,Sync:se},ce="animationend",ue="isSelected",he="slide",de=function(e){function t(t,i,n){var o;if(void 0===i&&(i={}),void 0===n&&(n={}),o=e.call(this)||this,Object.defineProperty(u(o),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(u(o),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(o),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(u(o),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(u(o),"state",{enumerable:!0,configurable:!0,writable:!0,value:G.Init}),Object.defineProperty(u(o),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(o),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u(o),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(u(o),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(u(o),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(u(o),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(o),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof t&&(t=document.querySelector(t)),!t||!j(t))throw new Error("No Element found");return o.container=t,o.slideNext=K(o.slideNext.bind(o),150),o.slidePrev=K(o.slidePrev.bind(o),150),o.userOptions=i,o.userPlugins=n,queueMicrotask((function(){o.processOptions()})),o}d(t,e);var i=t.prototype;return i.processOptions=function(){var i,n,o=this,a=M({},t.defaults,this.userOptions),r="",s=a.breakpoints;if(s&&T(s))for(var l=0,c=Object.entries(s);l<c.length;l++){var u=c[l],h=u[0],d=u[1];window.matchMedia(h).matches&&T(d)&&(r+=h,M(a,d))}r===this.bp&&this.state!==G.Init||(this.bp=r,this.state===G.Ready&&(a.initialSlide=(null===(n=null===(i=this.pages[this.page])||void 0===i?void 0:i.slides[0])||void 0===n?void 0:n.index)||0),this.state!==G.Init&&this.destroy(),e.prototype.setOptions.call(this,a),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){o.init()}),0))},i.init=function(){this.state=G.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},t.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=G.Ready,this.emit("ready")},i.initLayout=function(){var e,t,i=this.container,n=this.option("classes");H(i,this.cn("container")),w(i,n.isLTR,!this.isRTL),w(i,n.isRTL,this.isRTL),w(i,n.isVertical,!this.isHorizontal),w(i,n.isHorizontal,this.isHorizontal);var o=this.option("viewport")||i.querySelector("."+n.viewport);o||(o=document.createElement("div"),H(o,n.viewport),(e=o).append.apply(e,J(i,"."+n.slide)),i.prepend(o)),o.addEventListener("scroll",this.onScroll);var a=this.option("track")||i.querySelector("."+n.track);a||(a=document.createElement("div"),H(a,n.track),(t=a).append.apply(t,Array.from(o.childNodes))),a.setAttribute("aria-live","polite"),o.contains(a)||o.prepend(a),this.viewport=o,this.track=a,this.emit("initLayout")},i.initSlides=function(){var e=this,t=this.track;if(t){var i=[].concat(this.slides),n=[];[].concat(J(t,"."+this.cn(he))).forEach((function(t){if(j(t)){var i=Q({el:t,isDom:!0,index:e.slides.length});n.push(i)}}));for(var o=0,a=[].concat(this.option("slides",[])||[],i);o<a.length;o++){var r=a[o];n.push(Q(r))}this.slides=n;for(var s=0;s<this.slides.length;s++)this.slides[s].index=s;for(var l=0,c=n;l<c.length;l++){var u=c[l];this.emit("beforeInitSlide",u,u.index),this.emit("initSlide",u,u.index)}this.emit("initSlides")}},i.setInitialPage=function(){var e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0},i.setInitialPosition=function(){var e=this.track,t=this.pages,i=this.isHorizontal;if(e&&t.length){var n=this.page;t[n]||(this.page=n=0);var o=(t[n].pos||0)*(this.isRTL&&i?1:-1),a=i?o+"px":"0",r=i?"0":o+"px";e.style.transform="translate3d("+a+", "+r+", 0) scale(1)",this.option("adaptiveHeight")&&this.setViewportHeight()}},i.initPanzoom=function(){var e=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var t=this.option("Panzoom")||{};this.panzoom=new U(this.viewport,M({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(t){return!(e.pages.length<2&&!t.options.infinite)},bounds:function(){return e.getBounds()},maxVelocity:function(t){return Math.abs(t.target[e.axis]-t.current[e.axis])<2*e.viewportDim?100:0}},t)),this.panzoom.on("*",(function(t,i){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];e.emit.apply(e,["Panzoom."+i,t].concat(o))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)},i.attachEvents=function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)},i.createPages=function(){var e=[],t=this.contentDim,i=this.viewportDim,n=this.option("slidesPerPage");n=("auto"===n||t<=i)&&!1!==this.option("fill")?1/0:parseFloat(n+"");for(var o,a=0,r=0,s=0,l=f(this.slides);!(o=l()).done;){var c=o.value;(!e.length||r+c.dim-i>.05||s>=n)&&(e.push(ee()),a=e.length-1,r=0,s=0),e[a].slides.push(c),r+=c.dim+c.gap,s++}return e},i.processPages=function(){var e=this.pages,t=this.contentDim,i=this.viewportDim,n=this.isInfinite,o=this.option("center"),a=this.option("fill"),r=a&&o&&t>i&&!n;if(e.forEach((function(e,n){var a;e.index=n,e.pos=(null===(a=e.slides[0])||void 0===a?void 0:a.pos)||0,e.dim=0;for(var s,l=f(e.slides.entries());!(s=l()).done;){var c=s.value,u=c[0],h=c[1];e.dim+=h.dim,u<e.slides.length-1&&(e.dim+=h.gap)}r&&e.pos+.5*e.dim<.5*i?e.pos=0:r&&e.pos+.5*e.dim>=t-.5*i?e.pos=t-i:o&&(e.pos+=-.5*(i-e.dim))})),e.forEach((function(e){a&&!n&&t>i&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,t-i)),e.pos=p(e.pos,1e3),e.dim=p(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),n)return e;var s,l=[];return e.forEach((function(e){var t=Object.assign({},e);s&&t.pos===s.pos?(s.dim+=t.dim,s.slides=[].concat(s.slides,t.slides)):(t.index=l.length,s=t,l.push(t))})),l},i.getPageFromIndex=function(e){void 0===e&&(e=0);var t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)},i.getSlideMetrics=function(e){var t,i,n,o=this.isHorizontal?"width":"height",a=0,r=e.el,s=!(!r||r.parentNode);if(r?a=parseFloat(r.dataset[o]||"")||0:((r=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(r)),H(r,this.cn(he)+" "+e.class+" "+e.customClass),a)r.style[o]=a+"px",r.style["width"===o?"height":"width"]="";else{s&&(this.track||document.body).prepend(r),a=r.getBoundingClientRect()[o]*Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);var l=r[this.isHorizontal?"offsetWidth":"offsetHeight"];l-1>a&&(a=l)}var c=getComputedStyle(r);return"content-box"===c.boxSizing&&(this.isHorizontal?(a+=parseFloat(c.paddingLeft)||0,a+=parseFloat(c.paddingRight)||0):(a+=parseFloat(c.paddingTop)||0,a+=parseFloat(c.paddingBottom)||0)),n=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,s?null===(i=r.parentElement)||void 0===i||i.removeChild(r):e.el||r.remove(),{dim:p(a,1e3),gap:p(n,1e3)}},i.getBounds=function(){var e=this.isInfinite,t=this.isRTL,i=this.isHorizontal,n=this.pages,o={min:0,max:0};if(e)o={min:-1/0,max:1/0};else if(n.length){var a=n[0].pos,r=n[n.length-1].pos;o=t&&i?{min:a,max:r}:{min:-1*r,max:-1*a}}return{x:i?o:{min:0,max:0},y:i?{min:0,max:0}:o}},i.repositionSlides=function(){var e,t=this.isHorizontal,i=this.isRTL,n=this.isInfinite,o=this.viewport,a=this.viewportDim,r=this.contentDim,s=this.page,l=this.pages,c=this.slides,u=this.panzoom,h=0,d=0,v=0,g=0;u?g=-1*u.current[this.axis]:l[s]&&(g=l[s].pos||0),e=t?i?"right":"left":"top",i&&t&&(g*=-1);for(var m,b=f(c);!(m=b()).done;){var y=m.value,w=y.el;w?("top"===e?(w.style.right="",w.style.left=""):w.style.top="",y.index!==h?w.style[e]=0===d?"":p(d,1e3)+"px":w.style[e]="",v+=y.dim+y.gap,h++):d+=y.dim+y.gap}if(n&&v&&o){var x=getComputedStyle(o),E="padding",S=t?"Right":"Bottom",P=parseFloat(x[E+(t?"Left":"Top")]);g-=P,a+=P,a+=parseFloat(x[E+S]);for(var C,T=f(c);!(C=T()).done;){var M=C.value;M.el&&(p(M.pos)<p(a)&&p(M.pos+M.dim+M.gap)<p(g)&&p(g)>p(r-a)&&(M.el.style[e]=p(d+v,1e3)+"px"),p(M.pos+M.gap)>=p(r-a)&&p(M.pos)>p(g+a)&&p(g)<p(a)&&(M.el.style[e]="-"+p(v,1e3)+"px"))}}var O,A,k=[].concat(this.inTransition);if(k.length>1&&(O=l[k[0]],A=l[k[1]]),O&&A)for(var L,z=0,R=f(c);!(L=R()).done;){var I=L.value;I.el?this.inTransition.has(I.index)&&O.slides.indexOf(I)<0&&(I.el.style[e]=p(z+(O.pos-A.pos),1e3)+"px"):z+=I.dim+I.gap}},i.createSlideEl=function(e){var t=this.track,i=this.slides;if(t&&e&&(!e.el||!e.el.parentNode)){var n=e.el||document.createElement("div");H(n,this.cn(he)),H(n,e.class),H(n,e.customClass);var o=e.html;o&&(o instanceof HTMLElement?n.appendChild(o):n.innerHTML=e.html+"");var a=[];i.forEach((function(e,t){e.el&&a.push(t)}));var r=e.index,s=null;a.length&&(s=i[a.reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}))]);var l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(n,t.contains(l)?l:null),e.el=n,this.emit("createSlide",e)}},i.removeSlideEl=function(e,t){void 0===t&&(t=!1);var i=null==e?void 0:e.el;if(i&&i.parentNode){var n=this.cn(ue);if(i.classList.contains(n)&&(B(i,n),this.emit("unselectSlide",e)),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",e);var o=new CustomEvent(ce);i.dispatchEvent(o),e.el&&(e.el.remove(),e.el=null)}},i.transitionTo=function(e,t){var i,n,o,a;if(void 0===e&&(e=0),void 0===t&&(t=this.option("transition")),!t)return!1;var r=this.page,s=this.pages,l=this.panzoom;e=parseInt((e||0).toString())||0;var c=this.getPageFromIndex(e);if(!l||!s[c]||s.length<2||Math.abs(((null===(n=null===(i=s[r])||void 0===i?void 0:i.slides[0])||void 0===n?void 0:n.dim)||0)-this.viewportDim)>1)return!1;var u=e>r?1:-1;this.isInfinite&&(0===r&&e===s.length-1&&(u=-1),r===s.length-1&&0===e&&(u=1));var h=s[c].pos*(this.isRTL?1:-1);if(r===c&&Math.abs(h-l.target[this.axis])<1)return!1;this.clearTransitions();var d=l.isResting;H(this.container,this.cn("inTransition"));var f=(null===(o=s[r])||void 0===o?void 0:o.slides[0])||null,v=(null===(a=s[c])||void 0===a?void 0:a.slides[0])||null;this.inTransition.add(v.index),this.createSlideEl(v);var p=f.el,g=v.el;d||t===he||(t="fadeFast",p=null);var m=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return p&&(this.inTransition.add(f.index),f.transition=t,p.addEventListener(ce,this.onAnimationEnd),p.classList.add("f-"+t+"Out","to-"+(u>0?b:m))),g&&(v.transition=t,g.addEventListener(ce,this.onAnimationEnd),g.classList.add("f-"+t+"In","from-"+(u>0?m:b))),l.current[this.axis]=h,l.target[this.axis]=h,l.requestTick(),this.onChange(c),!0},i.manageSlideVisiblity=function(){for(var e,t=new Set,i=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),o=f(this.slides);!(e=o()).done;){var a=e.value;n.has(a)?t.add(a):i.add(a)}for(var r,s=f(this.inTransition);!(r=s()).done;){var l=r.value;t.add(this.slides[l])}for(var c,u=f(t);!(c=u()).done;){var h=c.value;this.createSlideEl(h),this.lazyLoadSlide(h)}for(var d,v=f(i);!(d=v()).done;){var p=d.value;t.has(p)||this.removeSlideEl(p)}this.markSelectedSlides(),this.repositionSlides()},i.markSelectedSlides=function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn(ue);if(t)for(var i,n=f(this.slides);!(i=n()).done;){var o=i.value,a=o.el;a&&(a.dataset.index=""+o.index,a.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(o)?a.removeAttribute(e):a.setAttribute(e,"true"):this.pages[this.page].slides.includes(o)?(a.classList.contains(t)||(H(a,t),this.emit("selectSlide",o)),a.removeAttribute(e)):(a.classList.contains(t)&&(B(a,t),this.emit("unselectSlide",o)),a.setAttribute(e,"true")))}}},i.flipInfiniteTrack=function(){var e=this.axis,t=this.isHorizontal,i=this.isInfinite,n=this.isRTL,o=this.viewportDim,a=this.contentDim,r=this.panzoom;if(r&&i){var s=r.current[e],l=r.target[e]-s,c=0,u=.5*o;n&&t?(s<-u&&(c=-1,s+=a),s>a-u&&(c=1,s-=a)):(s>u&&(c=1,s-=a),s<-a+u&&(c=-1,s+=a)),c&&(r.current[e]=s,r.target[e]=s+l)}},i.lazyLoadImg=function(e,t){var i=this,n=this,o="f-fadeIn",a="is-preloading",r=!1,s=null,l=function(){r||(r=!0,s&&(s.remove(),s=null),B(t,a),t.complete&&(H(t,o),setTimeout((function(){B(t,o)}),350)),i.option("adaptiveHeight")&&e.el&&i.pages[i.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),i.emit("load",e))};H(t,a),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",(function(){l()})),t.addEventListener("load",(function(){l()})),setTimeout((function(){var i=t.parentNode;i&&e.el&&(t.complete?l():r||(s=b(F),i.insertBefore(s,t)))}),300)},i.lazyLoadSlide=function(e){var t=e&&e.el;if(t){var i=new Set,n=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&n.push(t),n.map((function(e){e instanceof HTMLImageElement?i.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage="url('"+e.dataset.lazySrc+"')",delete e.dataset.lazySrc)}));for(var o,a=f(i);!(o=a()).done;){var r=o.value;this.lazyLoadImg(e,r)}}},i.onAnimationEnd=function(e){var t,i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,o=this.slides[n],a=e.animationName;if(i&&o&&a){var r=!!this.inTransition.has(n)&&o.transition;r&&a.substring(0,r.length+2)==="f-"+r&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}},i.onDecel=function(e,t,i,n,o){if(void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),this.option("dragFree"))this.setPageFromPosition();else{var a,r=this.isRTL,s=this.isHorizontal,l=this.axis,c=this.pages,u=c.length,h=Math.abs(Math.atan2(i,t)/(Math.PI/180));if(a=h>45&&h<135?s?0:i:s?t:0,u){var d=this.page,f=r&&s?1:-1,v=e.current[l]*f,p=this.getPageFromPosition(v).pageIndex;Math.abs(a)>5?(c[d].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(d=p),d=r&&s?a<0?d-1:d+1:a<0?d+1:d-1):d=0===n&&0===o?d:p,this.slideTo(d,{transition:!1,friction:e.option("decelFriction")})}}},i.onClick=function(e){var t,i,n=e.target,o=n&&j(n)?n.dataset:null;o&&(void 0!==o.carouselPage?(i="slideTo",t=o.carouselPage):void 0!==o.carouselNext?i="slideNext":void 0!==o.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),n&&!n.hasAttribute("disabled")&&this[i](t)):this.emit("click",e)},i.onSlideTo=function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})},i.onChange=function(e,t){void 0===t&&(t=0);var i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))},i.onRefresh=function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})},i.onScroll=function(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)},i.onResize=function(){this.option("breakpoints")&&this.processOptions()},i.onBeforeTransform=function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e},i.onEndAnimation=function(){this.inTransition.size||this.emit("settle")},i.reInit=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.destroy(),this.state=G.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()},i.slideTo=function(e,t){void 0===e&&(e=0);var i=void 0===t?{}:t,n=i.friction,o=void 0===n?this.option("friction"):n,a=i.transition,r=void 0===a?this.option("transition"):a;if(this.state!==G.Destroy){e=parseInt((e||0).toString())||0;var s=this.getPageFromIndex(e),l=this.axis,c=this.isHorizontal,u=this.isRTL,h=this.pages,d=this.panzoom,f=h.length,v=u&&c?1:-1;if(d&&f){if(this.page!==s){var p=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",p,e),p.defaultPrevented)return}if(!this.transitionTo(e,r)){var g=h[s].pos;if(this.isInfinite){var m=this.contentDim,b=d.target[l]*v;2===f?g+=m*Math.floor(parseFloat(e+"")/2):g=[g,g-m,g+m].reduce((function(e,t){return Math.abs(t-b)<Math.abs(e-b)?t:e}))}g*=v,Math.abs(d.target[l]-g)<1||(d.panTo({x:c?g:0,y:c?0:g,friction:o}),this.onChange(s))}}}},i.slideToClosest=function(e){if(this.panzoom){var t=this.getPageFromPosition().pageIndex;this.slideTo(t,e)}},i.slideNext=function(){this.slideTo(this.page+1)},i.slidePrev=function(){this.slideTo(this.page-1)},i.clearTransitions=function(){this.inTransition.clear(),B(this.container,this.cn("inTransition"));for(var e,t=["to-prev","to-next","from-prev","from-next"],i=f(this.slides);!(e=i()).done;){var n=e.value,o=n.el;if(o){var a;o.removeEventListener(ce,this.onAnimationEnd),(a=o.classList).remove.apply(a,t);var r=n.transition;r&&o.classList.remove("f-"+r+"Out","f-"+r+"In")}}this.manageSlideVisiblity()},i.addSlide=function(e,t){for(var i,n,o,a,r,s,l=this.panzoom,c=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,u=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,h=this.contentDim<this.viewportDim,d=[],v=f(Array.isArray(t)?t:[t]);!(s=v()).done;){var p=s.value;d.push(Q(p))}(i=this.slides).splice.apply(i,[e,0].concat(d));for(var g=0;g<this.slides.length;g++)this.slides[g].index=g;for(var m=0,b=d;m<b.length;m++){var y=b[m];this.emit("beforeInitSlide",y,y.index)}if(this.page>=e&&(this.page+=d.length),this.updateMetrics(),l){var w,x=(null===(a=this.pages[this.page])||void 0===a?void 0:a.pos)||0,E=(null===(r=this.pages[this.page])||void 0===r?void 0:r.dim)||0,S=this.pages.length||1,P=this.isRTL?u-E:E-u,C=this.isRTL?c-x:x-c;h&&1===S?(e<=this.page&&(l.current[this.axis]-=P,l.target[this.axis]-=P),l.panTo(((w={})[this.isHorizontal?"x":"y"]=-1*x,w))):C&&e<=this.page&&(l.target[this.axis]-=C,l.current[this.axis]-=C,l.requestTick())}for(var T=0,M=d;T<M.length;T++){var O=M[T];this.emit("initSlide",O,O.index)}},i.prependSlide=function(e){this.addSlide(0,e)},i.appendSlide=function(e){this.addSlide(this.slides.length,e)},i.removeSlide=function(e){var t=this.slides.length;e=(e%t+t)%t;var i=this.slides[e];if(i){this.removeSlideEl(i,!0),this.slides.splice(e,1);for(var n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}},i.updateMetrics=function(){var e=this.panzoom,t=this.viewport,i=this.track,n=this.slides,o=this.isHorizontal,a=this.isInfinite;if(i){var r=o?"width":"height",s=o?"offsetWidth":"offsetHeight";if(t){var l=Math.max(t[s],p(t.getBoundingClientRect()[r],1e3)),c=getComputedStyle(t),u="padding",h=o?"Right":"Bottom";l-=parseFloat(c[u+(o?"Left":"Top")])+parseFloat(c[u+h]),this.viewportDim=l}for(var d,v,g=0,m=f(n.entries());!(v=m()).done;){var b,y=v.value,w=y[0],x=y[1],E=0,S=0;!x.el&&d?(E=d.dim,S=d.gap):(E=(b=this.getSlideMetrics(x)).dim,S=b.gap,d=x),E=p(E,1e3),S=p(S,1e3),x.dim=E,x.gap=S,x.pos=g,g+=E,(a||w<n.length-1)&&(g+=S)}g=p(g,1e3),this.contentDim=g,e&&(e.contentRect[r]=g,e.contentRect[o?"fullWidth":"fullHeight"]=g),this.pages=this.createPages(),this.pages=this.processPages(),this.state===G.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}},i.getProgress=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===e&&(e=this.page);var n=this,o=n.panzoom,a=n.contentDim,r=n.pages[e]||0;if(!r||!o)return e>this.page?-1:1;var s=-1*o.current.e,l=p((s-r.pos)/(1*r.dim),1e3),c=l,u=l;this.isInfinite&&!0!==i&&(c=p((s-r.pos+a)/(1*r.dim),1e3),u=p((s-r.pos-a)/(1*r.dim),1e3));var h=[l,c,u].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?h:h>1?1:h<-1?-1:h},i.setViewportHeight=function(){var e=this.page,t=this.pages,i=this.viewport,n=this.isHorizontal;if(i&&t[e]){var o=0;n&&this.track&&(this.track.style.height="auto",t[e].slides.forEach((function(e){e.el&&(o=Math.max(o,e.el.offsetHeight))}))),i.style.height=o?o+"px":""}},i.getPageForSlide=function(e){for(var t,i=f(this.pages);!(t=i()).done;)for(var n,o=t.value,a=f(o.slides);!(n=a()).done;)if(n.value.index===e)return o.index;return-1},i.getVisibleSlides=function(e){var t;void 0===e&&(e=0);var i=new Set,n=this.panzoom,o=this.contentDim,a=this.viewportDim,r=this.pages,s=this.page;if(a){o=o+(null===(t=this.slides[this.slides.length-1])||void 0===t?void 0:t.gap)||0;var l=0;l=n&&n.state!==k.Init&&n.state!==k.Destroy?-1*n.current[this.axis]:r[s]&&r[s].pos||0,this.isInfinite&&(l-=Math.floor(l/o)*o),this.isRTL&&this.isHorizontal&&(l*=-1);for(var c,u=l-a*e,h=l+a*(e+1),d=this.isInfinite?[-1,0,1]:[0],v=f(this.slides);!(c=v()).done;)for(var p,g=c.value,m=f(d);!(p=m()).done;){var b=p.value,y=g.pos+b*o,w=y+g.dim+g.gap;y<h&&w>u&&i.add(g)}}return i},i.getPageFromPosition=function(e){var t,i=this.viewportDim,n=this.contentDim,o=this.slides,a=this.pages,r=this.panzoom,s=a.length,l=o.length,c=o[0],u=o[l-1],h=this.option("center"),d=0,f=void 0===e?-1*((null==r?void 0:r.target[this.axis])||0):e;h&&(f+=.5*i),this.isInfinite?(f<c.pos-.5*u.gap&&(f-=n,d=-1),f>u.pos+u.dim+.5*u.gap&&(f-=n,d=1)):f=Math.max(c.pos||0,Math.min(f,u.pos));var v=u,p=o.find((function(e){var t=e.pos-.5*v.gap,i=e.pos+e.dim+.5*e.gap;return v=e,f>=t&&f<i}));return p||(p=u),{page:(t=this.getPageForSlide(p.index))+d*s,pageIndex:t}},i.setPageFromPosition=function(){var e=this.getPageFromPosition().pageIndex;this.onChange(e)},i.destroy=function(){var e=this;if(![G.Destroy].includes(this.state)){this.state=G.Destroy;var t=this.container,i=this.viewport,n=this.track,o=this.slides,a=this.panzoom,r=this.option("classes");t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),a&&(a.destroy(),this.panzoom=null),o&&o.forEach((function(t){e.removeSlideEl(t)})),this.detachPlugins(),i&&(i.removeEventListener("scroll",this.onScroll),i.offsetParent&&n&&n.offsetParent&&i.replaceWith.apply(i,n.childNodes));for(var s=0,l=Object.entries(r);s<l.length;s++){var c=l[s],u=c[0],h=c[1];"container"!==u&&h&&t.classList.remove(h)}this.track=null,this.viewport=null,this.page=0,this.slides=[];var d=this.events.get("ready");this.events=new Map,d&&this.events.set("ready",d)}},c(t,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===G.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,i=this.viewportDim,n=this.pages,o=this.slides[0];return n.length>=2&&o&&t+o.dim>=i&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}}])}(L);Object.defineProperty(de,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:U}),Object.defineProperty(de,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(de,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:le});var fe,ve,pe,ge=function(e){if(!j(e))return 0;var t=window.scrollY,i=window.innerHeight,n=t+i,o=e.getBoundingClientRect(),a=o.y+t,r=o.height,s=a+r;if(t>s||n<a)return 0;if(t<a&&n>s)return 100;if(a<t&&s>n)return 100;var l=r;a<t&&(l-=t-a),s>n&&(l-=s-n);var c=l/i*100;return Math.round(c)},me=!("undefined"==typeof window||!window.document||!window.document.createElement),be=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ye=function(e){if(e&&me){void 0===fe&&document.createElement("div").focus({get preventScroll(){return fe=!0,!1}});try{if(fe)e.focus({preventScroll:!0});else{var t=window.scrollY||document.body.scrollTop,i=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:i,behavior:"auto"})}}catch(e){}}},we=function(){var e,t=document,i="",n="",o="";return t.fullscreenEnabled?(i="requestFullscreen",n="exitFullscreen",o="fullscreenElement"):t.webkitFullscreenEnabled&&(i="webkitRequestFullscreen",n="webkitExitFullscreen",o="webkitFullscreenElement"),i&&(e={request:function(e){return void 0===e&&(e=t.documentElement),"webkitRequestFullscreen"===i?e[i](Element.ALLOW_KEYBOARD_INPUT):e[i]()},exit:function(){return t[o]&&t[n]()},isFullscreen:function(){return t[o]}}),e},xe={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},R),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(ve||(ve={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(pe||(pe={}));var Ee="",Se=!1,Pe=!1,Ce=null,Te=function(){var e="",t="",i=Ht.getInstance();if(i){var n=i.carousel,o=i.getSlide();if(n&&o){var a=o.slug||void 0,r=o.triggerEl||void 0;!(t=a||i.option("slug")||"")&&r&&r.dataset&&(t=r.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!a&&n.slides.length>1?"-"+(o.index+1):""))}}return{hash:e,slug:t,index:1}},Me=function(){var e=new URL(document.URL).hash,t=e.slice(1).split("-"),i=t[t.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}},Oe=function(){var e=Me(),t=e.slug,i=e.index;if(t){var n=document.querySelector('[data-slug="'+t+'"]');if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!Ht.getInstance()){var o=document.querySelectorAll('[data-fancybox="'+t+'"]');o.length&&(n=o[i-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))}}},Ae=function(){if(!1!==Ht.defaults.Hash){var e=Ht.getInstance();if(!1!==(null==e?void 0:e.options.Hash)){var t=Me(),i=t.slug,n=t.index,o=Te().slug;e&&(i===o?e.jumpTo(n-1):(Se=!0,e.close())),Oe()}}},ke=function(){Ce&&clearTimeout(Ce),queueMicrotask((function(){Ae()}))},Le=function(){window.addEventListener("hashchange",ke,!1),setTimeout((function(){Ae()}),500)};me&&(/complete|interactive|loaded/.test(document.readyState)?Le():document.addEventListener("DOMContentLoaded",Le));var ze="is-zooming-in",Re=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var i=t.prototype;return i.onCreateSlide=function(e,t,i){var n=this.instance.optionFor(i,"src")||"";i.el&&"image"===i.type&&"string"==typeof n&&this.setImage(i,n)},i.onRemoveSlide=function(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0},i.onChange=function(e,t,i,n){B(this.instance.container,ze);for(var o,a=f(t.slides);!(o=a()).done;){var r=o.value,s=r.panzoom;s&&r.index!==i&&s.reset(.35)}},i.onClose=function(){var e,t=this.instance,i=t.container,n=t.getSlide();if(i&&i.parentElement&&n){var o=n.el,a=n.contentEl,r=n.panzoom,s=n.thumbElSrc;if(o&&s&&a&&r&&!r.isContentLoading&&r.state!==k.Init&&r.state!==k.Destroy){r.updateMetrics();var l=this.getZoomInfo(n);if(l){this.instance.state=ve.CustomClosing,i.classList.remove(ze),i.classList.add("is-zooming-out"),a.style.backgroundImage="url('"+s+"')";var c=i.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(i.style,{position:"absolute",top:i.offsetTop+window.scrollY+"px",left:i.offsetLeft+window.scrollX+"px",bottom:"auto",right:"auto",width:c.width+"px",height:c.height+"px",overflow:"hidden"});var u=l.x,h=l.y,d=l.scale,f=l.opacity;if(f){var v=function(e,t){var i=t-e;return function(t){return 1+((t-e)/i*-1||0)}}(r.scale,d);r.on("afterTransform",(function(){a.style.opacity=v(r.scale)+""}))}r.on("endAnimation",(function(){t.destroy()})),r.target.a=d,r.target.b=0,r.target.c=0,r.target.d=d,r.panTo({x:u,y:h,scale:d,friction:f?.2:.33,ignoreBounds:!0}),r.isResting&&t.destroy()}}}},i.setImage=function(e,t){var i=this,n=this.instance;e.src=t,this.process(e,t).then((function(t){var o=e.contentEl,a=e.imageEl,r=e.thumbElSrc,s=e.el;if(!n.isClosing()&&o&&a){o.offsetHeight;var l,c=!!n.isOpeningSlide(e)&&i.getZoomInfo(e);if(i.option("protected")&&s){s.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=document.createElement("div");H(u,"fancybox-protected"),o.appendChild(u)}if(r&&c){var h=t.contentRect,d=Math.max(h.fullWidth,h.fullHeight),f=null;!c.opacity&&d>1200&&(f=document.createElement("img"),H(f,"fancybox-ghost"),f.src=r,o.appendChild(f));var v=function(){f&&(H(f,"f-fadeFastOut"),setTimeout((function(){f&&(f.remove(),f=null)}),200))};(l=r,new Promise((function(e,t){var i=new Image;i.onload=e,i.onerror=t,i.src=l}))).then((function(){n.hideLoading(e),e.state=pe.Opening,i.instance.emit("reveal",e),i.zoomIn(e).then((function(){v(),i.instance.done(e)}),(function(){})),f&&setTimeout((function(){v()}),d>2500?800:200)}),(function(){n.hideLoading(e),n.revealContent(e)}))}else{var p=i.optionFor(e,"initialSize"),g=i.optionFor(e,"zoom"),m={event:n.prevMouseMoveEvent||n.options.event,friction:g?.12:0},b=n.optionFor(e,"showClass")||void 0,y=!0;n.isOpeningSlide(e)&&("full"===p?t.zoomToFull(m):"cover"===p?t.zoomToCover(m):"max"===p?t.zoomToMax(m):y=!1,t.stop("current")),y&&b&&(b=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,b)}}}),(function(){n.setError(e,"{{IMAGE_ERROR}}")}))},i.process=function(e,t){var i=this;return new Promise((function(n,o){var a,r=i.instance,s=e.el;r.clearContent(e),r.showLoading(e);var l=i.optionFor(e,"content");if("string"==typeof l&&(l=b(l)),!l||!j(l)){if((l=document.createElement("img"))instanceof HTMLImageElement){var c,u=e.caption;c="string"==typeof u&&u?u.replace(/<[^>]+>/gi,"").substring(0,1e3):"Image "+(e.index+1)+" of "+((null===(a=r.carousel)||void 0===a?void 0:a.pages.length)||1),l.src=t||"",l.alt=c,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),i.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}H(l,"fancybox-image"),e.imageEl=l,r.setContent(e,l,!1),e.panzoom=new U(s,M({transformParent:!0},i.option("Panzoom")||{},{content:l,width:function(t,i){return r.optionFor(e,"width","auto",i)||"auto"},height:function(t,i){return r.optionFor(e,"height","auto",i)||"auto"},wheel:function(){var e=r.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,i){var n,o;if(r.isCompact||r.isClosing())return!1;if(e.index!==(null===(n=r.getSlide())||void 0===n?void 0:n.index))return!1;if(i){var a=i.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(a.nodeName))return!1}var s=!i||i.target&&(null===(o=e.contentEl)||void 0===o?void 0:o.contains(i.target));return r.option(s?"contentClick":"backdropClick")||!1},dblClick:function(){return r.isCompact?"toggleZoom":r.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:function(e){n(e)},error:function(){o()},destroy:function(){o()}}}))}))},i.zoomIn=function(e){var t=this;return new Promise((function(i,n){var o=t.instance,a=o.container,r=e.panzoom,s=e.contentEl,l=e.el;r&&r.updateMetrics();var c=t.getZoomInfo(e);if(c&&l&&s&&r&&a){var u=c.x,h=c.y,d=c.scale,f=c.opacity,v=function(){e.state!==pe.Closing&&(f&&(s.style.opacity=Math.max(Math.min(1,1-(1-r.scale)/(1-d)),0)+""),r.scale>=1&&r.scale>r.targetScale-.1&&i(r))},p=function(e){(e.scale<.99||e.scale>1.01)&&!e.isDragging||(B(a,ze),s.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",v),i(e))};r.on("endAnimation",p),r.on("touchStart",p),r.on("afterTransform",v),r.on(["error","destroy"],(function(){n()})),r.panTo({x:u,y:h,scale:d,friction:0,ignoreBounds:!0}),r.stop("current");var g={event:"mousemove"===r.panMode?o.prevMouseMoveEvent||o.options.event:void 0},m=t.optionFor(e,"initialSize");H(a,ze),o.hideLoading(e),"full"===m?r.zoomToFull(g):"cover"===m?r.zoomToCover(g):"max"===m?r.zoomToMax(g):r.reset(.172)}else n()}))},i.getZoomInfo=function(e){var t=e.el,i=e.imageEl,n=e.thumbEl,o=e.panzoom,a=this.instance,r=a.container;if(!t||!i||!n||!o||ge(n)<3||!this.optionFor(e,"zoom")||!r||a.state===ve.Destroy)return!1;if("0"===getComputedStyle(r).getPropertyValue("--f-images-zoom"))return!1;var s=window.visualViewport||null;if(1!==(s?s.scale:1))return!1;var l=n.getBoundingClientRect(),c=l.top,u=l.left,h=l.width,d=l.height,f=o.contentRect,v=f.top,p=f.left,g=f.fitWidth,m=f.fitHeight;if(!(h&&d&&g&&m))return!1;var b=o.container.getBoundingClientRect(),y=-1*((p+=b.left)+.5*g-(u+.5*h)),w=-1*((v+=b.top)+.5*m-(c+.5*d)),x=h/g,E=this.option("zoomOpacity")||!1;return"auto"===E&&(E=Math.abs(h/d-g/m)>.1),{x:y,y:w,scale:x,opacity:E}},i.attach=function(){var e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)},i.detach=function(){var e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)},t}(te);Object.defineProperty(Re,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;var Ie="html",De="image",Fe="map",je="youtube",Be="vimeo",He="html5video",Ne=function(e,t){void 0===t&&(t={});for(var i=new URL(e),n=new URLSearchParams(i.search),o=new URLSearchParams,a=0,r=[].concat(n,Object.entries(t));a<r.length;a++){var s=r[a],l=s[0],c=s[1]+"";if("t"===l){var u=c.match(/((\d*)m)?(\d*)s?/);u&&o.set("start",60*parseInt(u[2]||"0")+parseInt(u[3]||"0")+"")}else o.set(l,c)}var h=o+"",d=e.match(/#t=((.*)?\d+s)/);return d&&(h+="#t="+d[1]),h},_e=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],Xe=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var i=t.prototype;return i.onBeforeInitSlide=function(e,t,i){this.processType(i)},i.onCreateSlide=function(e,t,i){this.setContent(i)},i.onClearContent=function(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);var i=t.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",t.iframeEl=null);var n=t.contentEl,o=t.placeholderEl;if("inline"===t.type&&n&&o)n.classList.remove("fancybox__content"),"none"!==getComputedStyle(n).getPropertyValue("display")&&(n.style.display="none"),setTimeout((function(){o&&(n&&o.parentNode&&o.parentNode.insertBefore(n,o),o.remove())}),0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)},i.onSelectSlide=function(e,t,i){i.state===pe.Ready&&this.playVideo()},i.onUnselectSlide=function(e,t,i){var n,o,a;if(i.type!==He)i.type===Be?a={method:"pause",value:"true"}:i.type===je&&(a={event:"command",func:"pauseVideo"}),a&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(a),"*"),i.poller&&clearTimeout(i.poller);else try{null===(o=null===(n=i.el)||void 0===n?void 0:n.querySelector("video"))||void 0===o||o.pause()}catch(e){}},i.onDone=function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()},i.onRefresh=function(e,t){var i=this;t.slides.forEach((function(e){e.el&&(i.resizeIframe(e),i.setAspectRatio(e))}))},i.onMessage=function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(var i=0,n=Array.from(document.getElementsByClassName("fancybox__iframe"));i<n.length;i++){var o=n[i];o instanceof HTMLIFrameElement&&o.contentWindow===e.source&&(o.dataset.ready="true")}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var a=document.getElementById(t.id);a&&(a.dataset.ready="true")}}catch(e){}},i.loadAjaxContent=function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===ve.Ready&&(i.hideLoading(e),200===n.status?i.setContent(e,n.responseText):i.setError(e,404===n.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var o=e.ajax||null;n.open(o?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(o),e.xhr=n},i.setInlineContent=function(e){var t=null;if(j(e.src))t=e.src;else if("string"==typeof e.src){var i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var n=(t=t.cloneNode(!0)).dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);var o=t.getAttribute("id");o=o?o+"--clone":"clone-"+this.instance.id+"-"+e.index,t.setAttribute("id",o)}else if(t.parentNode){var a=document.createElement("div");a.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(a,t),e.placeholderEl=a}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")},i.setIframeContent=function(e){var t=this,i=e.src,n=e.el;if(i&&"string"==typeof i&&n){n.classList.add("is-loading");var o=this.instance,a=document.createElement("iframe");a.className="fancybox__iframe",a.setAttribute("id","fancybox__iframe_"+o.id+"_"+e.index);for(var r=0,s=Object.entries(this.optionFor(e,"iframeAttr")||{});r<s.length;r++){var l=s[r],c=l[0],u=l[1];a.setAttribute(c,u)}a.onerror=function(){o.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=a;var h=this.optionFor(e,"preload");if("iframe"!==e.type||!1===h)return a.setAttribute("src",e.src+""),o.setContent(e,a,!1),this.resizeIframe(e),void o.revealContent(e);o.showLoading(e),a.onload=function(){if(a.src.length){var i="true"!==a.dataset.ready;a.dataset.ready="true",t.resizeIframe(e),i?o.revealContent(e):o.hideLoading(e)}},a.setAttribute("src",i),o.setContent(e,a,!1)}},i.resizeIframe=function(e){var t=e.type,i=e.iframeEl;if(t!==je&&t!==Be){var n=null==i?void 0:i.parentElement;if(i&&n){var o=e.autoSize;void 0===o&&(o=this.optionFor(e,"autoSize"));var a=e.width||0,r=e.height||0;a&&r&&(o=!1);var s=n&&n.style;if(!1!==e.preload&&!1!==o&&s)try{var l=window.getComputedStyle(n),c=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),u=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),h=i.contentWindow;if(h){var d=h.document,f=d.getElementsByTagName(Ie)[0],v=d.body;s.width="",v.style.overflow="hidden",a=a||f.scrollWidth+c,s.width=a+"px",v.style.overflow="",s.flex="0 0 auto",s.height=v.scrollHeight+"px",r=f.scrollHeight+u}}catch(e){}if(a||r){var p={flex:"0 1 auto",width:"",height:""};a&&"auto"!==a&&(p.width=a+"px"),r&&"auto"!==r&&(p.height=r+"px"),Object.assign(s,p)}}}},i.playVideo=function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if(e.type===He)try{var i=t.querySelector("video");if(i){var n=i.play();void 0!==n&&n.then((function(){})).catch((function(e){i.muted=!0,i.play()}))}}catch(e){}if(e.type===je||e.type===Be){var o=function(){if(e.iframeEl&&e.iframeEl.contentWindow){var t;if("true"===e.iframeEl.dataset.ready)return(t=e.type===je?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===je&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(o,250)};o()}}}},i.processType=function(e){if(e.html)return e.type=Ie,e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var o=this.optionFor(e,je),a=o.nocookie,r=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(o,["nocookie"]),s="www.youtube"+(a?"-nocookie":"")+".com",l=Ne(t,r),c=encodeURIComponent(n[2]);e.videoId=c,e.src="https://"+s+"/embed/"+c+"?"+l,e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/"+c+"/mqdefault.jpg",i=je}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var u=Ne(t,this.optionFor(e,Be)),h=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=h,e.src="https://player.vimeo.com/video/"+h+"?"+(d?"h="+d+(u?"&":""):"")+u,i=Be}if(!i&&e.triggerEl){var f=e.triggerEl.dataset.type;_e.includes(f)&&(i=f)}i||"string"==typeof t&&("#"===t.charAt(0)?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=He,e.videoFormat=e.videoFormat||"video/"+("ogv"===n[1]?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=De:t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google."+n[1]+"/?ll="+(n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&")+"&output="+(n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"),i=Fe):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google."+n[1]+"/maps?q="+n[2].replace("query=","q=").replace("api=1","")+"&output=embed",i=Fe),i=i||this.instance.option("defaultType"),e.type=i,i===De&&(e.thumbSrc=e.thumbSrc||e.src)}},i.setContent=function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case Ie:this.instance.setContent(e,t);break;case He:var i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case Fe:case je:case Be:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}},i.setAspectRatio=function(e){var t=e.contentEl;if(e.el&&t&&e.type&&[je,Be,He].includes(e.type)){var i,n=e.width||"auto",o=e.height||"auto";if("auto"===n||"auto"===o){var a=((i=this.optionFor(e,"videoRatio"))+"").match(/(\d+)\s*\/\s?(\d+)/);i=a&&a.length>2?parseFloat(a[1])/parseFloat(a[2]):parseFloat(i+"")}else n&&o&&(i=n/o);if(i){t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;var r=t.getBoundingClientRect(),s=r.width||1,l=r.height||1;t.style.aspectRatio=i+"",i<s/l?(o="auto"===o?l:Math.min(l,o),t.style.width="auto",t.style.height=o+"px"):(n="auto"===n?s:Math.min(s,n),t.style.width=n+"px",t.style.height="auto")}}},i.attach=function(){var e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)},i.detach=function(){var e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)},t}(te);Object.defineProperty(Xe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var We="play",Ye="pause",qe="ready",Ve=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:qe}),Object.defineProperty(u(t),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(t),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}d(t,e);var i=t.prototype;return i.onReady=function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()},i.onChange=function(){this.removeProgressBar(),this.pause()},i.onSettle=function(){this.resume()},i.onVisibilityChange=function(){"visible"===document.visibilityState?this.resume():this.pause()},i.onMouseEnter=function(){this.inHover=!0,this.pause()},i.onMouseLeave=function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()},i.onTimerEnd=function(){var e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))},i.removeProgressBar=function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)},i.createProgressBar=function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,i=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(1===i.length?i[0].el:null)||t.viewport),!n)return null;var o=document.createElement("div");return H(o,"f-progress"),n.prepend(o),this.progressBar=o,o.offsetHeight,o},i.set=function(){var e=this,t=e.instance;if(!(t.pages.length<2||e.timer)){var i=e.option("timeout");e.state=We,H(t.container,"has-autoplay");var n=e.createProgressBar();n&&(n.style.transitionDuration=i+"ms",n.style.transform="scaleX(1)"),e.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),i),e.emit("set")}},i.clear=function(){var e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()},i.start=function(){var e=this;if(e.set(),e.state!==qe){if(e.option("pauseOnHover")){var t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}},i.stop=function(){var e=this,t=e.state,i=e.instance.container;e.clear(),e.state=qe,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),B(i,"has-autoplay"),t!==qe&&e.emit("stop")},i.pause=function(){var e=this;e.state===We&&(e.state=Ye,e.clear(),e.emit(Ye))},i.resume=function(){var e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==We){if(e.state===Ye&&!e.inHover){var i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()},i.toggle=function(){this.state===We||this.state===Ye?this.stop():this.start()},i.attach=function(){var e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)},i.detach=function(){var e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()},c(t,[{key:"isActive",get:function(){return this.state!==qe}}])}(te);Object.defineProperty(Ve,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Ze=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}d(t,e);var i=t.prototype;return i.onPrepare=function(e){var t=this,i=e.carousel;if(i){var n=e.container;n&&(i.options.Autoplay=M({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:function(){return t.option("progressParentEl")||null},on:{start:function(){e.emit("startSlideshow")},set:function(t){var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==pe.Ready&&t.pause()},stop:function(){n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:function(t,i){var n,o,a;!i||!i.cancelable||(null===(n=e.getSlide())||void 0===n?void 0:n.state)===pe.Ready&&(null===(a=null===(o=e.carousel)||void 0===o?void 0:o.panzoom)||void 0===a?void 0:a.isResting)||i.preventDefault()}}}),i.attachPlugins({Autoplay:Ve}),this.ref=i.plugins.Autoplay)}},i.onReady=function(e){var t=e.carousel,i=this.ref;i&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()},i.onDone=function(e,t){var i=this.ref,n=e.carousel;if(i&&n){var o=t.panzoom;o&&o.on("startAnimation",(function(){e.isCurrentSlide(t)&&i.stop()})),e.isCurrentSlide(t)&&i.resume()}},i.onKeydown=function(e,t){var i,n=this.ref;n&&t===this.option("key")&&"BUTTON"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()},i.attach=function(){var e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)},i.detach=function(){var e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)},t}(te);Object.defineProperty(Ze,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:function(e){var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});var Ue,Ge={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(Ue||(Ue={}));var Ke="isResting",Je="thumbWidth",$e="thumbHeight",Qe="thumbClipWidth",et=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(u(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(t),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(t),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(t),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(t),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:Ue.Init}),t}d(t,e);var i=t.prototype;return i.onInitSlide=function(e,t){var i=t.el?t.el.dataset:void 0;i&&(t.thumbSrc=i.thumbSrc||t.thumbSrc||"",t[Qe]=parseFloat(i[Qe]||"")||t[Qe]||0,t[$e]=parseFloat(i.thumbHeight||"")||t[$e]||0),this.addSlide(t)},i.onInitSlides=function(){this.build()},i.onChange=function(){var e;if(this.isModern){var t=this.container,i=this.instance,n=i.panzoom,o=this.carousel,a=o?o.panzoom:null,r=i.page;if(n&&o&&a){if(n.isDragging){B(t,this.cn(Ke));var s=(null===(e=o.pages[r])||void 0===e?void 0:e.pos)||0;s+=i.getProgress(r)*(this[Qe]+this.thumbGap);var l=a.getBounds();-1*s>l.x.min&&-1*s<l.x.max&&a.panTo({x:-1*s,friction:.12})}else w(t,this.cn(Ke),n.isResting);this.shiftModern()}}},i.onRefresh=function(){this.updateProps();for(var e,t=f(this.instance.slides||[]);!(e=t()).done;){var i=e.value;this.resizeModernSlide(i)}this.shiftModern()},i.isDisabled=function(){var e=this.option("minCount")||0;if(e){for(var t,i=0,n=f(this.instance.slides||[]);!(t=n()).done;)t.value.thumbSrc&&i++;if(i<e)return!0}var o=this.option("type");return["modern","classic"].indexOf(o)<0},i.getThumb=function(e){var t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}},i.addSlide=function(e){var t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))},i.getSlides=function(){for(var e,t=[],i=f(this.instance.slides||[]);!(e=i()).done;){var n=e.value;t.push(this.getThumb(n))}return t},i.resizeModernSlide=function(e){this.isModern&&(e[Je]=e[Qe]&&e[$e]?Math.round(this[$e]*(e[Qe]/e[$e])):this[Je])},i.updateProps=function(){var e=this.container;if(e){var t=function(t){return parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0};this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Je]=t("width")||40,this[Qe]=t("clip-width")||40,this[$e]=t("height")||40}},i.build=function(){var e=this;if(e.state===Ue.Init)if(e.isDisabled())e.emit("disabled");else{var t=e.instance,i=t.container,n=e.getSlides(),o=e.option("type");e.type=o;var a=e.option("parentEl"),r=e.cn("container"),s=e.cn("track"),l=null==a?void 0:a.querySelector("."+r);l||(l=document.createElement("div"),H(l,r),a?a.appendChild(l):i.after(l)),H(l,"is-"+o),H(i,e.cn("hasThumbs")),e.container=l,e.updateProps();var c=l.querySelector("."+s);c||(c=document.createElement("div"),H(c,e.cn("track")),l.appendChild(c)),e.track=c;var u=M({},{track:c,infinite:!1,center:!0,fill:"classic"===o,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:n}),h=new t.constructor(l,u);h.on("createSlide",(function(t,i){e.setProps(i.index),e.emit("createSlide",i,i.el)})),h.on("ready",(function(){e.shiftModern(),e.emit("ready")})),h.on("refresh",(function(){e.shiftModern()})),h.on("Panzoom.click",(function(t,i,n){e.onClick(n)})),e.carousel=h,e.state=Ue.Ready}},i.onClick=function(e){e.preventDefault(),e.stopPropagation();var t=this.instance,i=t.pages,n=t.page,o=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},a=function(e,t){var i=document.elementFromPoint(e,t);return i?o(i):[-1,void 0]},r=o(e.target),s=r[0];if(r[1],!(s>-1)){var l=this[Qe],c=e.clientX,u=e.clientY,h=a(c-l,u),d=h[0],f=h[1],v=a(c+l,u),p=v[0],g=v[1];f&&g?(s=Math.abs(c-f.getBoundingClientRect().right)<Math.abs(c-g.getBoundingClientRect().left)?d:p)===n&&(s=s===d?p:d):f?s=d:g&&(s=p),s>-1&&i[s]&&t.slideTo(s)}},i.getShift=function(e){var t,i=this,n=i.instance,o=i.carousel;if(!n||!o)return 0;var a=i[Je],r=i[Qe],s=i.thumbGap,l=i.thumbExtraGap;if(!(null===(t=o.slides[e])||void 0===t?void 0:t.el))return 0;var c=.5*(a-r),u=n.pages.length-1,h=n.getProgress(0),d=n.getProgress(u),f=n.getProgress(e,!1,!0),v=0,p=c+l+s,g=h<0&&h>-1,m=d>0&&d<1;return 0===e?(v=p*Math.abs(h),m&&1===h&&(v-=p*Math.abs(d))):e===u?(v=p*Math.abs(d)*-1,g&&-1===d&&(v+=p*Math.abs(h))):g||m?(v=-1*p,v+=p*Math.abs(h),v+=p*(1-Math.abs(d))):v=p*f,v},i.setProps=function(e){var t,i=this;if(i.isModern){var n=i.instance,o=i.carousel;if(n&&o){var a=null===(t=o.slides[e])||void 0===t?void 0:t.el;if(a&&a.childNodes.length){var r=p(1-Math.abs(n.getProgress(e))),s=p(i.getShift(e));a.style.setProperty("--progress",r?r+"":""),a.style.setProperty("--shift",s+"")}}}},i.shiftModern=function(){var e=this;if(e.isModern){var t=e.instance,i=e.track,n=t.panzoom,o=e.carousel;if(t&&i&&n&&o&&n.state!==k.Init&&n.state!==k.Destroy){for(var a,r=f(t.slides);!(a=r()).done;){var s=a.value;e.setProps(s.index)}var l=(e[Qe]+e.thumbGap)*(o.slides.length||0);i.style.setProperty("--width",l+"")}}},i.cleanup=function(){var e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=Ue.Init,B(e.instance.container,e.cn("hasThumbs"))},i.attach=function(){var e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===G.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)},i.detach=function(){var e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()},c(t,[{key:"isModern",get:function(){return"modern"===this.type}}])}(te);Object.defineProperty(et,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ge});var tt=Object.assign(Object.assign({},Ge),{key:"t",showOnStart:!0,parentEl:null}),it="is-masked",nt="aria-hidden",ot=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(t),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}d(t,e);var i=t.prototype;return i.onClick=function(e,t){t.stopPropagation()},i.onCreateSlide=function(e,t){var i,n,o,a=(null===(o=null===(n=null===(i=this.instance)||void 0===i?void 0:i.carousel)||void 0===n?void 0:n.slides[t.index])||void 0===o?void 0:o.type)||"",r=t.el;if(r&&a){var s="for-"+a;["video","youtube","vimeo","html5video"].includes(a)&&(s+=" for-video"),H(r,s)}},i.onInit=function(){var e,t=this,i=this,n=i.instance,o=n.carousel;if(!i.ref&&o){var a=i.option("parentEl")||n.footer||n.container;if(a){var r=M({},i.options,{parentEl:a,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:function(e){var n=e.container;n&&t.hidden&&(i.refresh(),n.style.transition="none",i.hide(),n.offsetHeight,queueMicrotask((function(){n.style.transition="",i.show()})))}}});r.Carousel=r.Carousel||{},r.Carousel.on=M((null===(e=i.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),o.options.Thumbs=r,o.attachPlugins({Thumbs:et}),i.ref=o.plugins.Thumbs,i.option("showOnStart")||(i.ref.state=Ue.Hidden,i.hidden=!0)}}},i.onResize=function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")},i.onKeydown=function(e,t){var i=this.option("key");i&&i===t&&this.toggle()},i.toggle=function(){var e=this.ref;if(e&&!e.isDisabled())return e.state===Ue.Hidden?(e.state=Ue.Init,void e.build()):void(this.hidden?this.show():this.hide())},i.show=function(){var e=this.ref;if(e&&!e.isDisabled()){var t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(nt),t.classList.remove(it),this.hidden=!1)}},i.hide=function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(it),t.setAttribute(nt,"true")),this.hidden=!0},i.refresh=function(){var e=this.ref;if(e&&e.state){var t=e.container,i=(null==t?void 0:t.firstChild)||null;t&&i&&i.childNodes.length&&(t.style.maxHeight=i.getBoundingClientRect().height+"px")}},i.attach=function(){var e=this,t=e.instance;t.state===ve.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)},i.detach=function(){var e,t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),null===(e=i.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null},c(t,[{key:"isEnabled",get:function(){var e=this.ref;return e&&!e.isDisabled()}},{key:"isHidden",get:function(){return this.hidden}}])}(te);Object.defineProperty(ot,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:tt});var at,rt={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(at||(at={}));var st={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},lt="has-toolbar",ct="fancybox__toolbar",ut=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Object.defineProperty(u(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:at.Init}),Object.defineProperty(u(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),t}d(t,e);var i=t.prototype;return i.onReady=function(e){var t;if(e.carousel){var i=this.option("display"),n=this.option("absolute"),o=this.option("enabled");if("auto"===o){var a=this.instance.carousel,r=0;if(a)for(var s,l=f(a.slides);!(s=l()).done;){var c=s.value;(c.panzoom||"image"===c.type)&&r++}r||(o=!1)}o||(i=void 0);var u=0,h={left:[],middle:[],right:[]};if(i)for(var d=0,v=["left","middle","right"];d<v.length;d++)for(var p,g=v[d],m=f(i[g]);!(p=m()).done;){var b=p.value,y=this.createEl(b);y&&(null===(t=h[g])||void 0===t||t.push(y),u++)}var w=null;if(u&&(w=this.createContainer()),w){for(var x=0,E=Object.entries(h);x<E.length;x++){var S=E[x],P=S[0],C=S[1],T=document.createElement("div");H(T,ct+"__column is-"+P);for(var M,O=f(C);!(M=O()).done;){var A=M.value;T.appendChild(A)}"auto"!==n||"middle"!==P||C.length||(n=!0),w.appendChild(T)}!0===n&&H(w,"is-absolute"),this.state=at.Ready,this.onRefresh()}else this.state=at.Disabled}},i.onClick=function(e){var t,i,n=this.instance,o=n.getSlide(),a=null==o?void 0:o.panzoom,r=e.target,s=r&&j(r)?r.dataset:null;if(s){if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=n.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay,c=l.isActive;return a&&"mousemove"===a.panMode&&!c&&a.reset(),void(c?l.stop():l.start())}var u=s.panzoomAction,h=s.panzoomChange;if((h||u)&&(e.preventDefault(),e.stopPropagation()),h){var d={};try{d=JSON.parse(h)}catch(e){}a&&a.applyChange(d)}else u&&a&&a[u]&&a[u]()}},i.onChange=function(){this.onRefresh()},i.onRefresh=function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===pe.Ready){for(var i,n=t&&!t.error&&t.panzoom,o=f(e.querySelectorAll("[data-panzoom-action]"));!(i=o()).done;){var a=i.value;n?(a.removeAttribute("disabled"),a.removeAttribute("tabindex")):(a.setAttribute("disabled",""),a.setAttribute("tabindex","-1"))}for(var r,s=n&&n.canZoomIn(),l=n&&n.canZoomOut(),c=f(e.querySelectorAll('[data-panzoom-action="zoomIn"]'));!(r=c()).done;){var u=r.value;s?(u.removeAttribute("disabled"),u.removeAttribute("tabindex")):(u.setAttribute("disabled",""),u.setAttribute("tabindex","-1"))}for(var h,d=f(e.querySelectorAll('[data-panzoom-action="zoomOut"]'));!(h=d()).done;){var v=h.value;l?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1"))}for(var p,g=f(e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]'));!(p=g()).done;){var m=p.value;l||s?(m.removeAttribute("disabled"),m.removeAttribute("tabindex")):(m.setAttribute("disabled",""),m.setAttribute("tabindex","-1"));var b=m.querySelector("g");b&&(b.style.display=s?"":"none")}}}}},i.onDone=function(e,t){var i,n=this;null===(i=t.panzoom)||void 0===i||i.on("afterTransform",(function(){n.instance.isCurrentSlide(t)&&n.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()},i.createContainer=function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,i=t.querySelector("."+ct);return i||(i=document.createElement("div"),H(i,ct),t.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&H(e,lt),this.container=i,i},i.createEl=function(e){var t=this,i=this.instance,n=i.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!we())return null;for(var o,a=null,r=n.slides.length||0,s=0,l=0,c=f(n.slides);!(o=c()).done;){var u=o.value;(u.panzoom||"image"===u.type)&&s++,("image"===u.type||u.downloadSrc)&&l++}if(r<2&&["infobar","prev","next"].includes(e))return a;if(void 0!==rt[e]&&!s)return null;if("download"===e&&!l)return null;if("thumbs"===e){var h=i.plugins.Thumbs;if(!h||!h.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||r<2))return null;if(void 0!==rt[e]){var d=rt[e];(a=document.createElement("button")).setAttribute("title",this.instance.localize("{{"+e.toUpperCase()+"}}")),H(a,"f-button"),d.action&&(a.dataset.panzoomAction=d.action),d.change&&(a.dataset.panzoomChange=JSON.stringify(d.change)),a.appendChild(b(this.instance.localize(d.icon)))}else{var v=(this.option("items")||[])[e];v&&(a=b(this.instance.localize(v.tpl)),"function"==typeof v.click&&a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof v.click&&v.click.call(t,t,e)})))}var p=null==a?void 0:a.querySelector("svg");if(p)for(var g=0,m=Object.entries(st);g<m.length;g++){var y=m[g],w=y[0],x=y[1];p.getAttribute(w)||p.setAttribute(w,String(x))}return a},i.removeContainer=function(){var e=this.container;e&&e.remove(),this.container=null,this.state=at.Disabled;var t=this.instance.container;t&&B(t,lt)},i.attach=function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)},i.detach=function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()},t}(te);Object.defineProperty(ut,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var ht,dt={Hash:function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var i=t.prototype;return i.onReady=function(){Se=!1},i.onChange=function(e){Ce&&clearTimeout(Ce);var t=Te().hash,i=Me().hash,n=e.isOpeningSlide(e.getSlide());n&&(Ee=i===t?"":i),t&&t!==i&&(Ce=setTimeout((function(){try{if(e.state===ve.Ready){var i="replaceState";n&&!Pe&&(i="pushState",Pe=!0),window.history[i]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}}),300))},i.onClose=function(e){if(Ce&&clearTimeout(Ce),!Se&&Pe)return Pe=!1,Se=!1,void window.history.back();if(!Se)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(Ee||""))}catch(e){}},i.attach=function(){var e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)},i.detach=function(){var e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)},t.parseURL=function(){return Me()},t.startFromUrl=function(){Oe()},t.destroy=function(){window.removeEventListener("hashchange",ke,!1)},t}(te),Html:Xe,Images:Re,Slideshow:Ze,Thumbs:ot,Toolbar:ut},ft="with-fancybox",vt="hide-scrollbar",pt="--fancybox-scrollbar-compensate",gt="--fancybox-body-margin",mt="aria-hidden",bt="is-using-tab",yt="is-animated",wt="is-compact",xt="is-loading",Et="is-opening",St="has-caption",Pt="disabled",Ct="tabindex",Tt="download",Mt="href",Ot="src",At=function(e){return"string"==typeof e},kt=function(){var e=window.getSelection();return!!e&&"Range"===e.type},Lt=null,zt=null,Rt=0,It=0,Dt=0,Ft=0,jt=new Map,Bt=0,Ht=function(e){function t(t,i,n){var o;return void 0===t&&(t=[]),void 0===i&&(i={}),void 0===n&&(n={}),o=e.call(this,i)||this,Object.defineProperty(u(o),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(u(o),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(u(o),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(o),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(o),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(o),"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u(o),"state",{enumerable:!0,configurable:!0,writable:!0,value:ve.Init}),Object.defineProperty(u(o),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u(o),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(u(o),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ht||(ht=we()),o.id=i.id||++Bt,jt.set(o.id,u(o)),o.userSlides=t,o.userPlugins=n,queueMicrotask((function(){o.init()})),o}d(t,e);var i=t.prototype;return i.init=function(){var e=this;if(this.state!==ve.Destroy){this.state=ve.Init,this.attachPlugins(Object.assign(Object.assign({},t.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&function(){if(me){var e=document,t=e.body,i=e.documentElement;if(!t.classList.contains(vt)){var n=window.innerWidth-i.getBoundingClientRect().width,o=parseFloat(window.getComputedStyle(t).marginRight);n<0&&(n=0),i.style.setProperty(pt,n+"px"),o&&t.style.setProperty(gt,o+"px"),t.classList.add(vt)}}}(),this.initLayout(),this.scale();var i=function(){e.initCarousel(e.userSlides),e.state=ve.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){e.container&&e.container.setAttribute(mt,"false")}),16)};this.option("Fullscreen.autoStart")&&ht&&!ht.isFullscreen()?ht.request().then((function(){e.startedFs=!0,i()})).catch((function(){return i()})):i()}},i.initLayout=function(){var e,t,i=this,n=this.option("parentEl")||document.body,o=b(this.localize(this.option("tpl.main")||""));if(o){if(o.setAttribute("id","fancybox-"+this.id),o.setAttribute("aria-label",this.localize("{{MODAL}}")),o.classList.toggle(wt,this.isCompact),H(o,this.option("mainClass")||""),H(o,Et),this.container=o,this.footer=o.querySelector(".fancybox__footer"),n.appendChild(o),H(document.documentElement,ft),Lt&&zt||(Lt=document.createElement("span"),H(Lt,"fancybox-focus-guard"),Lt.setAttribute(Ct,"0"),Lt.setAttribute(mt,"true"),Lt.setAttribute("aria-label","Focus guard"),zt=Lt.cloneNode(),null===(e=o.parentElement)||void 0===e||e.insertBefore(Lt,o),null===(t=o.parentElement)||void 0===t||t.append(zt)),o.addEventListener("mousedown",(function(e){Rt=e.pageX,It=e.pageY,B(o,bt)})),this.option("closeExisting"))for(var a,r=f(jt.values());!(a=r()).done;){var s=a.value;s.id!==this.id&&s.close()}else this.option("animated")&&(H(o,yt),setTimeout((function(){i.isClosing()||B(o,yt)}),350));this.emit("initLayout")}},i.initCarousel=function(e){var t=this,i=this.container;if(i){var n=i.querySelector(".fancybox__carousel");if(n){var o=this.carousel=new de(n,M({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));o.on("*",(function(e,i){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];t.emit.apply(t,["Carousel."+i,e].concat(o))})),o.on(["ready","change"],(function(){t.manageCaption()})),this.on("Carousel.removeSlide",(function(e,i,n){t.clearContent(n),n.state=void 0})),o.on("Panzoom.touchStart",(function(){var e,i;t.isCompact||t.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(i=t.container)||void 0===i||i.focus())})),o.on("settle",(function(){t.idleTimer||t.isCompact||!t.option("idle")||t.setIdle(),t.option("autoFocus")&&!t.isClosing&&t.checkFocus()})),this.option("dragToClose")&&(o.on("Panzoom.afterTransform",(function(e,i){var n=t.getSlide();if(!n||!g(n.el)){var o=t.container;if(o){var a=Math.abs(i.current.f),r=a<1?"":Math.max(.5,Math.min(1,1-a/i.contentRect.fitHeight*1.5));o.style.setProperty("--fancybox-ts",r?"0s":""),o.style.setProperty("--fancybox-opacity",r+"")}}})),o.on("Panzoom.touchEnd",(function(e,i,n){var o,a=t.getSlide();if(!(a&&g(a.el)||i.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(o=document.activeElement)||void 0===o?void 0:o.nodeName))){var r=Math.abs(i.dragOffset.y);"y"===i.lockedAxis&&(r>=200||r>=50&&i.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),t.close(n,"f-throwOut"+(i.current.f<0?"Up":"Down")))}}))),o.on("change",(function(e){var i,n=null===(i=t.getSlide())||void 0===i?void 0:i.triggerEl;if(n){var o=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(o)}})),o.on(["refresh","change"],(function(e){var i=t.container;if(i){for(var n,o=f(i.querySelectorAll("[data-fancybox-current-index]"));!(n=o()).done;)n.value.innerHTML=e.page+1;for(var a,r=f(i.querySelectorAll("[data-fancybox-count]"));!(a=r()).done;)a.value.innerHTML=e.pages.length;if(!e.isInfinite){for(var s,l=f(i.querySelectorAll("[data-fancybox-next]"));!(s=l()).done;){var c=s.value;e.page<e.pages.length-1?(c.removeAttribute(Pt),c.removeAttribute(Ct)):(c.setAttribute(Pt,""),c.setAttribute(Ct,"-1"))}for(var u,h=f(i.querySelectorAll("[data-fancybox-prev]"));!(u=h()).done;){var d=u.value;e.page>0?(d.removeAttribute(Pt),d.removeAttribute(Ct)):(d.setAttribute(Pt,""),d.setAttribute(Ct,"-1"))}}var v=t.getSlide();if(v){var p=v.downloadSrc||"";p||"image"!==v.type||v.error||!At(v[Ot])||(p=v[Ot]);for(var g,m=f(i.querySelectorAll("[data-fancybox-download]"));!(g=m()).done;){var b=g.value,y=v.downloadFilename;p?(b.removeAttribute(Pt),b.removeAttribute(Ct),b.setAttribute(Mt,p),b.setAttribute(Tt,y||p),b.setAttribute("target","_blank")):(b.setAttribute(Pt,""),b.setAttribute(Ct,"-1"),b.removeAttribute(Mt),b.removeAttribute(Tt))}}}})),this.emit("initCarousel")}}},i.attachEvents=function(){var e=this,t=e.container;if(t){t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}},i.detachEvents=function(){var e=this,t=e.container;if(t){document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}},i.scale=function(){var e=this.container;if(e){var t=window.visualViewport,i=Math.max(1,(null==t?void 0:t.scale)||1),n="",o="",a="";if(t&&i>1){var r=t.offsetLeft+"px",s=t.offsetTop+"px";n=t.width*i+"px",o=t.height*i+"px",a="translate3d("+r+", "+s+", 0) scale("+1/i+")"}e.style.transform=a,e.style.width=n,e.style.height=o}},i.onClick=function(e){var t,i=this,n=this.container,o=this.isCompact;if(n&&!this.isClosing()){!o&&this.option("idle")&&this.resetIdle();var a=e.composedPath()[0];if(a.closest(".fancybox-spinner")||a.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(a.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(a.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(("click"!==e.type||0!==e.detail)&&!(Math.abs(e.pageX-Rt)>30||Math.abs(e.pageY-It)>30)){var r=document.activeElement;if(!(kt()&&r&&n.contains(r)))if(o&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){i.toggleIdle(),i.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var s=!1;if(a.closest(".fancybox__content")){if(r){if(r.closest("[contenteditable]"))return;a.matches(be)||r.blur()}if(kt())return;s=this.option("contentClick")}else a.closest(".fancybox__carousel")&&!a.matches(be)&&(s=this.option("backdropClick"));"close"===s?(e.preventDefault(),this.close(e)):"next"===s?(e.preventDefault(),this.next()):"prev"===s&&(e.preventDefault(),this.prev())}}}},i.onWheel=function(e){var t=e.target,i=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(i="slide");var n="slide"===i,o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),a=Math.max(-1,Math.min(1,o)),r=Date.now();this.pwt&&r-this.pwt<300?n&&e.preventDefault():(this.pwt=r,this.emit("wheel",e,a),e.defaultPrevented||("close"===i?(e.preventDefault(),this.close(e)):"slide"===i&&(m(t)||(e.preventDefault(),this[a>0?"prev":"next"]()))))},i.onScroll=function(){window.scrollTo(Dt,Ft)},i.onKeydown=function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,i=this.option("keyboard");if(i){var n=e.composedPath()[0],o=document.activeElement&&document.activeElement.classList,a=o&&o.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if(("Escape"===t||a||!j(n)||!n.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName))&&("Tab"===e.key?H(this.container,bt):B(this.container,bt),!(e.ctrlKey||e.altKey||e.shiftKey))){this.emit("keydown",t,e);var r=i[t];r&&"function"==typeof this[r]&&(e.preventDefault(),this[r]())}}}},i.onResize=function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle(wt,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}},i.onFocus=function(e){this.isTopmost()&&this.checkFocus(e)},i.onMousemove=function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()},i.onVisibilityChange=function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()},i.manageCloseBtn=function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var i=this.plugins.Toolbar;if(i&&i.state===at.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var n=this.option("tpl.closeButton");if(n){var o=b(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(o),e.el&&H(e.el,"has-close-btn")}}},i.manageCaption=function(e){var t,i,n=this;void 0===e&&(e=void 0);var o="fancybox__caption",a=this.container;if(a){B(a,St);var r=this.isCompact||this.option("commonCaption"),s=!r;if(this.caption&&this.stop(this.caption),s&&this.caption&&(this.caption.remove(),this.caption=null),r&&!this.caption)for(var l,c=f((null===(t=this.carousel)||void 0===t?void 0:t.slides)||[]);!(l=c()).done;){var u=l.value;u.captionEl&&(u.captionEl.remove(),u.captionEl=void 0,B(u.el,St),null===(i=u.el)||void 0===i||i.removeAttribute("aria-labelledby"))}if(e||(e=this.getSlide()),e&&(!r||this.isCurrentSlide(e))){var h=e.el,d=this.optionFor(e,"caption","");if(d){var v=null;if(s){if(v=e.captionEl||null,h&&!v){var p=o+"_"+this.id+"_"+e.index;v=document.createElement("div"),H(v,o),v.setAttribute("id",p),e.captionEl=h.appendChild(v),H(h,St),h.setAttribute("aria-labelledby",p)}}else(v=this.caption)||(v=a.querySelector("."+o)),v||((v=document.createElement("div")).dataset.fancyboxCaption="",H(v,o),(this.footer||a).prepend(v)),H(a,St),this.caption=v;v&&(v.innerHTML="",At(d)||"number"==typeof d?v.innerHTML=d+"":d instanceof HTMLElement&&v.appendChild(d))}else r&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){n.caption&&(n.caption.innerHTML="")}))}}},i.checkFocus=function(e){this.focus(e)},i.focus=function(e){var t;if(!this.ignoreFocusChange){var i=document.activeElement||null,n=(null==e?void 0:e.target)||null,o=this.container,a=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(o&&a&&(e||!i||!o.contains(i))){var r=this.getSlide(),s=r&&r.state===pe.Ready?r.el:null;if(s&&!s.contains(i)&&o!==i){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;for(var l=[],c=null,u=0,h=Array.from(o.querySelectorAll(be));u<h.length;u++){var d=h[u],f=!d.offsetParent||!!d.closest('[aria-hidden="true"]'),v=s&&s.contains(d),p=!a.contains(d);if(d===o||(v||p)&&!f){l.push(d);var g=d.dataset.origTabindex;void 0!==g&&g&&(d.tabIndex=parseFloat(g)),d.removeAttribute("data-orig-tabindex"),!d.hasAttribute("autoFocus")&&c||(c=d)}else{var m=void 0===d.dataset.origTabindex?d.getAttribute("tabindex")||"":d.dataset.origTabindex;m&&(d.dataset.origTabindex=m),d.tabIndex=-1}}var b=null;e?(!n||l.indexOf(n)<0)&&(b=c||o,l.length&&(i===zt?b=l[0]:this.lastFocus!==o&&i!==Lt||(b=l[l.length-1]))):b=r&&"image"===r.type?o:c||o,b&&ye(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}},i.next=function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()},i.prev=function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()},i.jumpTo=function(){var e;this.carousel&&(e=this.carousel).slideTo.apply(e,arguments)},i.isTopmost=function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.id)==this.id},i.animate=function(e,t,i){if(void 0===e&&(e=null),void 0===t&&(t=""),e&&t){this.stop(e);var n=function(o){o.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),B(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),H(e,t)}else i&&i()},i.stop=function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},i.setContent=function(e,t,i){if(void 0===t&&(t=""),void 0===i&&(i=!0),!this.isClosing()){var n=e.el;if(n){var o=null;if(j(t)?o=t:(o=b(t+""),j(o)||((o=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){var a=document.createElement("div");a.appendChild(o),o=a}j(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&j(o)?(H(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),n.classList.add("has-"+(e.error?"error":e.type||"unknown")),n.prepend(o),"none"===o.style.display&&(o.style.display=""),"none"===getComputedStyle(o).getPropertyValue("display")&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}},i.revealContent=function(e,t){var i=this,n=e.el,o=e.contentEl;n&&o&&(this.emit("reveal",e),this.hideLoading(e),e.state=pe.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(o,t,(function(){i.done(e)})):this.done(e))},i.done=function(e){var t=this;this.isClosing()||(e.state=pe.Ready,this.emit("done",e),H(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){var i;null===(i=e.panzoom)||void 0===i||i.updateControls(),t.option("autoFocus")&&t.focus()})),this.isOpeningSlide(e)&&(B(this.container,Et),!this.isCompact&&this.option("idle")&&this.setIdle()))},i.isCurrentSlide=function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index},i.isOpeningSlide=function(e){var t,i;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)},i.showLoading=function(e){var t=this;e.state=pe.Loading;var i=e.el;i&&(H(i,xt),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===pe.Loading){var n=b(F);H(n,"fancybox-spinner"),e.spinnerEl=n,i.prepend(n),t.animate(n,"f-fadeIn")}}),250))},i.hideLoading=function(e){var t=e.el;if(t){var i=e.spinnerEl;this.isClosing()?null==i||i.remove():(B(t,xt),i&&this.animate(i,"f-fadeOut",(function(){i.remove()})),e.state===pe.Loading&&(this.emit("loaded",e),e.state=pe.Ready))}},i.setError=function(e,t){if(!this.isClosing()){var i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),!i.defaultPrevented){e.error=t,this.hideLoading(e),this.clearContent(e);var n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}}},i.clearContent=function(e){if(void 0!==e.state){this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);var t=e.el;t&&(B(t,"has-error"),B(t,"has-unknown"),B(t,"has-"+(e.type||"unknown"))),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}},i.getSlide=function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0},i.close=function(e,t){var i=this;if(!this.isClosing()){var n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),!n.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var o=function(){i.proceedClose(e,t)};this.startedFs&&ht&&ht.isFullscreen()?Promise.resolve(ht.exit()).then((function(){return o()})):o()}}},i.clearIdle=function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null},i.setIdle=function(e){var t=this;void 0===e&&(e=!1);var i=function(){t.clearIdle(),t.idle=!0,H(t.container,"is-idle"),t.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)i();else{var n=this.option("idle");n&&(this.idleTimer=setTimeout(i,n))}},i.endIdle=function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,B(this.container,"is-idle"),this.emit("endIdle"))},i.resetIdle=function(){this.endIdle(),this.setIdle()},i.toggleIdle=function(){this.idle?this.endIdle():this.setIdle(!0)},i.toggleFullscreen=function(){var e=this;ht&&(ht.isFullscreen()?ht.exit():ht.request().then((function(){e.startedFs=!0})))},i.isClosing=function(){return[ve.Closing,ve.CustomClosing,ve.Destroy].includes(this.state)},i.proceedClose=function(e,t){var i,n,o=this;this.state=ve.Closing,this.clearIdle(),this.detachEvents();var a=this.container,r=this.carousel,s=this.getSlide(),l=s&&this.option("placeFocusBack")?s.triggerEl||this.option("triggerEl"):null;if(l&&(ge(l)?ye(l):l.focus()),a&&(B(a,Et),H(a,"is-closing"),a.setAttribute(mt,"true"),this.option("animated")&&H(a,yt),a.style.pointerEvents="none"),r){r.clearTransitions(),null===(i=r.panzoom)||void 0===i||i.destroy(),null===(n=r.plugins.Navigation)||void 0===n||n.detach();for(var c,u=f(r.slides);!(c=u()).done;){var h=c.value;h.state=pe.Closing,this.hideLoading(h);var d=h.contentEl;d&&this.stop(d);var v=null==h?void 0:h.panzoom;v&&(v.stop(),v.detachEvents(),v.detachObserver()),this.isCurrentSlide(h)||r.emit("removeSlide",h)}}Dt=window.scrollX,Ft=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==ve.CustomClosing?(void 0===t&&s&&(t=this.optionFor(s,"hideClass")),t&&s?(this.animate(s.contentEl,t,(function(){r&&r.emit("removeSlide",s)})),setTimeout((function(){o.destroy()}),500)):this.destroy()):setTimeout((function(){o.destroy()}),500)},i.destroy=function(){var e;if(this.state!==ve.Destroy){window.removeEventListener("scroll",this.onScroll),this.state=ve.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var i=this.container;i&&i.remove(),jt.delete(this.id);var n=t.getInstance();n?n.focus():(Lt&&(Lt.remove(),Lt=null),zt&&(zt.remove(),zt=null),B(document.documentElement,ft),function(){if(me){var e=document,t=e.body;t.classList.remove(vt),t.style.setProperty(gt,""),e.documentElement.style.setProperty(pt,"")}}(),this.emit("destroy"))}},t.bind=function(e,i,n){if(me){var o,a="",r={};if(void 0===e?o=document.body:At(e)?(o=document.body,a=e,"object"==typeof i&&(r=i||{})):(o=e,At(i)&&(a=i),"object"==typeof n&&(r=n||{})),o&&j(o)){a=a||"[data-fancybox]";var s=t.openers.get(o)||new Map;s.set(a,r),t.openers.set(o,s),1===s.size&&o.addEventListener("click",t.fromEvent)}}},t.unbind=function(e,i){var n,o="";if(At(e)?(n=document.body,o=e):(n=e,At(i)&&(o=i)),n){var a=t.openers.get(n);a&&o&&a.delete(o),o&&a||(t.openers.delete(n),n.removeEventListener("click",t.fromEvent))}},t.destroy=function(){for(var e;e=t.getInstance();)e.destroy();for(var i,n=f(t.openers.keys());!(i=n()).done;)i.value.removeEventListener("click",t.fromEvent);t.openers=new Map},t.fromEvent=function(e){if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var i,n,o,a,r=e.composedPath()[0],s=r.closest("[data-fancybox-trigger]");if(s){var l=s.dataset.fancyboxTrigger||"",c=document.querySelectorAll('[data-fancybox="'+l+'"]'),u=parseInt(s.dataset.fancyboxIndex||"",10)||0;r=c[u]||r}if(r&&r instanceof Element&&([].concat(t.openers).reverse().find((function(e){var t=e[0],s=e[1];return!(!t.contains(r)||![].concat(s).reverse().find((function(e){var s=e[0],l=e[1],c=r.closest(s);return!!c&&(i=t,n=s,o=c,a=l,!0)})))})),i&&n&&o)){a=a||{},e.preventDefault(),r=o;var h=[],d=M({},xe,a);d.event=e,d.triggerEl=r,d.delegate=s;var f=d.groupAll,v=d.groupAttr,p=v&&r?r.getAttribute(""+v):"";if((!r||p||f)&&(h=[].slice.call(i.querySelectorAll(n))),r&&!f&&(h=p?h.filter((function(e){return e.getAttribute(""+v)===p})):[r]),h.length){var g=t.getInstance();return g&&g.options.triggerEl&&h.indexOf(g.options.triggerEl)>-1?void 0:(r&&(d.startIndex=h.indexOf(r)),t.fromNodes(h,d))}}}},t.fromSelector=function(e,i,n){var o=null,a="",r={};if(At(e)?(o=document.body,a=e,"object"==typeof i&&(r=i||{})):e instanceof HTMLElement&&At(i)&&(o=e,a=i,"object"==typeof n&&(r=n||{})),!o||!a)return!1;var s=t.openers.get(o);return!!s&&!!(r=M({},s.get(a)||{},r))&&t.fromNodes(Array.from(o.querySelectorAll(a)),r)},t.fromNodes=function(e,i){i=M({},xe,i||{});for(var n,o=[],a=f(e);!(n=a()).done;){var r=n.value,s=r.dataset||{},l=s[Ot]||r.getAttribute(Mt)||r.getAttribute("currentSrc")||r.getAttribute(Ot)||void 0,c=void 0,u=i.delegate,h=void 0;u&&o.length===i.startIndex&&(c=u instanceof HTMLImageElement?u:u.querySelector("img:not([aria-hidden])")),c||(c=r instanceof HTMLImageElement?r:r.querySelector("img:not([aria-hidden])")),c&&!(h=c.currentSrc||c[Ot]||void 0)&&c.dataset&&(h=c.dataset.lazySrc||c.dataset[Ot]||void 0);var d={src:l,triggerEl:r,thumbEl:c,thumbElSrc:h,thumbSrc:h};for(var v in s){var p=s[v]+"";p="false"!==p&&("true"===p||p),d[v]=p}o.push(d)}return new t(o,i)},t.getInstance=function(e){return e?jt.get(e):Array.from(jt.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null},t.getSlide=function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.getSlide())||null},t.show=function(e,i){return void 0===e&&(e=[]),void 0===i&&(i={}),new t(e,i)},t.next=function(){var e=t.getInstance();e&&e.next()},t.prev=function(){var e=t.getInstance();e&&e.prev()},t.close=function(e){void 0===e&&(e=!0);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];if(e)for(var a,r=f(jt.values());!(a=r()).done;){var s=a.value;s.close.apply(s,n)}else{var l=t.getInstance();l&&l.close.apply(l,n)}},c(t,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}}])}(L);Object.defineProperty(Ht,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Ht,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:xe}),Object.defineProperty(Ht,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:dt}),Object.defineProperty(Ht,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),i().initializers.add("darkle/fancybox",(function(){(0,n.extend)(a().prototype,"refreshContent",(function(){if(!this.isEditing()){var e=this.$(".Post-body");0!=e.length&&(e.children(".fancybox-gallery:not(.fancybox-ready)").addClass("fancybox-ready").each((function(e,t){new de(t,{Dots:!1,infinite:!1,dragFree:!1,preload:0})})),e.find("a[data-fancybox]:not(.fancybox-ready)").addClass("fancybox-ready").each((function(t,i){var n,o,a=$(i),r=!1;a.on("mousedown",(function(e){r=!1,n=e.clientX,o=e.clientY})).on("mousemove",(function(e){(Math.abs(e.clientX-n)>5||Math.abs(e.clientY-o)>5)&&(r=!0)})).on("click",(function(t){if(t.preventDefault(),!r){var n=a.attr("data-fancybox"),o=a.closest(".fancybox-gallery"),s=(o.length>0?o:e).find('a[data-fancybox="'+n+'"]').toArray(),l=s.indexOf(i);Ht.fromNodes(s,{Carousel:{infinite:!1,preload:0},Toolbar:{display:{left:["infobar"],middle:["rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","fullscreen","close"]}},Images:{initialSize:"fit"},dragToClose:!0,Hash:!1,startIndex:l})}}))})))}}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map